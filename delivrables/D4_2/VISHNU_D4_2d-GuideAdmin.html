<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>VISHNU - Le guide de l'administrateur</title><meta name="generator" content="DocBook XSL Stylesheets V1.75.2" /></head><body><div class="book" title="VISHNU - Le guide de l'administrateur"><div class="titlepage"><div><div><h1 class="title"><a id="id161299"></a>VISHNU - Le guide de l'administrateur</h1></div><div><div class="author"><h3 class="author"><span class="firstname">Benjamin</span> <span class="surname">Isnard</span></h3></div></div><div><div class="author"><h3 class="author"><span class="firstname">Daouda</span> <span class="surname">Traoré</span></h3></div></div><div><div class="author"><h3 class="author"><span class="firstname">Eugène</span> <span class="surname">Pamba Capo-Chichi</span></h3></div></div><div><div class="author"><h3 class="author"><span class="firstname">Kevin</span> <span class="surname">Coulomb</span></h3></div></div><div><div class="author"><h3 class="author"><span class="firstname">Ibrahima</span> <span class="surname">Cissé</span></h3></div></div><div><div class="revhistory"><table border="1" width="100%" summary="Revision history"><tr><th align="left" valign="top" colspan="3"><b>Revision History</b></th></tr><tr><td align="left">Revision 1</td><td align="left">08/03/2011</td><td align="left">K. COULOMB</td></tr><tr><td align="left" colspan="3">
          
        <p>Version initiale pour le module UMS uniquement</p></td></tr><tr><td align="left">Revision 2</td><td align="left">18/03/2011</td><td align="left">K. COULOMB</td></tr><tr><td align="left" colspan="3">
          
        <p>Ajout du lancement manuel avec forwarder et d'image de fichiers de configuration exemple</p></td></tr><tr><td align="left">Revision 3</td><td align="left">22/03/2011</td><td align="left">K. COULOMB</td></tr><tr><td align="left" colspan="3">
          
        <p>Ajout des web services</p></td></tr><tr><td align="left">Revision 4</td><td align="left">11/05/2011</td><td align="left">K. COULOMB, B.ISNARD</td></tr><tr><td align="left" colspan="3">
          
          
          
        <p>Réécriture du lancement avec fichier de configuration.</p><p>Ajout d'un paragraphe pour le sendmail.</p><p>Ajout de l'administration de TMS.</p></td></tr><tr><td align="left">Revision 5</td><td align="left">18/05/2011</td><td align="left">B.ISNARD</td></tr><tr><td align="left" colspan="3">
          
        <p>Ajout du parametre de configuration dbConnectionsNb.</p></td></tr><tr><td align="left">Revision 6</td><td align="left">22/06/2011</td><td align="left">B.ISNARD</td></tr><tr><td align="left" colspan="3">
          
        <p>Ajout de l'option ENABLE_SWIG.</p></td></tr><tr><td align="left">Revision 7</td><td align="left">24/06/2011</td><td align="left">I.CISSE</td></tr><tr><td align="left" colspan="3">
          
        <p>Ajout de l'option vishnuMachineId dans le fichier de
            configuration de UMS.</p></td></tr><tr><td align="left">Revision 8</td><td align="left">13/07/2011</td><td align="left">K.COULOMB</td></tr><tr><td align="left" colspan="3">
          
        <p>Mise à jour du document suites aux premiers retours .</p></td></tr><tr><td align="left">Revision 9</td><td align="left">11/08/2011</td><td align="left">D.TRAORE</td></tr><tr><td align="left" colspan="3">
        <p>Prise en compte du gestionnaire de resources SLURM</p></td></tr></table></div></div></div><hr /></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="chapter"><a href="#id371685">1. Présentation du document</a></span></dt><dd><dl><dt><span class="section"><a href="#id371690">Objectifs du document</a></span></dt><dt><span class="section"><a href="#id371701">Structure du document</a></span></dt></dl></dd><dt><span class="chapter"><a href="#id371774">2. Définitions</a></span></dt><dd><dl><dt><span class="section"><a href="#id371780">Acronymes</a></span></dt><dt><span class="section"><a href="#id371834">Références</a></span></dt><dt><span class="section"><a href="#id371866">Glossaire</a></span></dt></dl></dd><dt><span class="chapter"><a href="#id371928">3. Installation à partir des sources</a></span></dt><dd><dl><dt><span class="section"><a href="#id371934">Objectifs</a></span></dt><dt><span class="section"><a href="#id371950">Prérequis</a></span></dt><dt><span class="section"><a href="#id372088"> Compilation des sources </a></span></dt></dl></dd><dt><span class="chapter"><a href="#id372326">4. Configuration de la base de données</a></span></dt><dd><dl><dt><span class="section"><a href="#id372342">Utilisation d'une base de données PostGreSQL</a></span></dt><dt><span class="section"><a href="#id371179">Utilisation d'une base de données MySQL</a></span></dt></dl></dd><dt><span class="chapter"><a href="#id371202">5. Installation des web services</a></span></dt><dd><dl><dt><span class="section"><a href="#id371207">Pré-requis</a></span></dt><dt><span class="section"><a href="#id372524">Installation de JBoss</a></span></dt><dt><span class="section"><a href="#id372633">Installation des module WS dans JBoss</a></span></dt><dd><dl><dt><span class="section"><a href="#id372638">Fichiers à installer</a></span></dt><dt><span class="section"><a href="#id372837">Variables d'environnement à définir</a></span></dt><dt><span class="section"><a href="#id372869">Lancement du serveur JBoss avec le module WS</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#id372914">6. Déploiement de VISHNU</a></span></dt><dd><dl><dt><span class="section"><a href="#id372920">Lancement sur un même réseau</a></span></dt><dt><span class="section"><a href="#id373323">Lancement sur plusieurs réseaux</a></span></dt><dt><span class="section"><a href="#id373787">Exemple de fichier de configuration d'un MA</a></span></dt><dt><span class="section"><a href="#id373798">Exemple de fichier de configuration pour un SeD DIET</a></span></dt><dt><span class="section"><a href="#id373809">Exemple de fichier de configuration d'un SeD UMS</a></span></dt><dt><span class="section"><a href="#id373822">Exemple de fichier de configuration d'un SeD TMS </a></span></dt><dt><span class="section"><a href="#id373840">Exemple de fichier d'un forwarder </a></span></dt><dt><span class="section"><a href="#id373851">Exemple de fichier du LogCentral </a></span></dt><dt><span class="section"><a href="#id373863">Configuration de l'envoi des emails par VISHNU</a></span></dt><dt><span class="section"><a href="#id373989">Test d'exécution d'un service depuis une machine client par shell</a></span></dt></dl></dd><dt><span class="chapter"><a href="#id374064">7. Administration</a></span></dt><dd><dl><dt><span class="section"><a href="#id374070">Présentation</a></span></dt><dt><span class="section"><a href="#id374086">Gestion des utilisateurs (UMS)</a></span></dt><dt><span class="section"><a href="#id374157">Gestion des machines (UMS)</a></span></dt><dt><span class="section"><a href="#id374217">Gestion de la plateforme (UMS)</a></span></dt><dt><span class="section"><a href="#id374262">Options propres à l'administrateur dans les commandes utilisateurs(UMS)</a></span></dt></dl></dd><dt><span class="reference"><a href="#id374319">I. UMS Command reference</a></span></dt><dd><dl><dt><span class="refentrytitle"><a href="#id374325">vishnu_add_user</a></span><span class="refpurpose"> — adds a new VISHNU user</span></dt><dt><span class="refentrytitle"><a href="#id374545">vishnu_update_user</a></span><span class="refpurpose"> — updates the user information except the userId and the password</span></dt><dt><span class="refentrytitle"><a href="#id374871">vishnu_delete_user</a></span><span class="refpurpose"> — removes a user from VISHNU</span></dt><dt><span class="refentrytitle"><a href="#id375054">vishnu_reset_password</a></span><span class="refpurpose"> — resets the password of a user</span></dt><dt><span class="refentrytitle"><a href="#id375237">vishnu_save_configuration</a></span><span class="refpurpose"> — saves the configuration of VISHNU</span></dt><dt><span class="refentrytitle"><a href="#id375388">vishnu_restore_configuration</a></span><span class="refpurpose"> — restores the configuration of VISHNU</span></dt><dt><span class="refentrytitle"><a href="#id375548">vishnu_add_machine</a></span><span class="refpurpose"> — adds a new machine in VISHNU</span></dt><dt><span class="refentrytitle"><a href="#id375756">vishnu_update_machine</a></span><span class="refpurpose"> — updates machine description</span></dt><dt><span class="refentrytitle"><a href="#id376086">vishnu_delete_machine</a></span><span class="refpurpose"> — removes a machine from VISHNU</span></dt><dt><span class="refentrytitle"><a href="#id376260">vishnu_list_users</a></span><span class="refpurpose"> — lists VISHNU users</span></dt><dt><span class="refentrytitle"><a href="#id376452">vishnu_configure_default_option</a></span><span class="refpurpose"> — configures a default option value</span></dt></dl></dd><dt><span class="reference"><a href="#id376654">II. UMS C++ API Reference</a></span></dt><dd><dl><dt><span class="refentrytitle"><a href="#id376660">addUser</a></span><span class="refpurpose"> — adds a new VISHNU user</span></dt><dt><span class="refentrytitle"><a href="#id376888">updateUser</a></span><span class="refpurpose"> — updates the user information except the userId and the password</span></dt><dt><span class="refentrytitle"><a href="#id377115">deleteUser</a></span><span class="refpurpose"> — removes a user from VISHNU</span></dt><dt><span class="refentrytitle"><a href="#id377324">resetPassword</a></span><span class="refpurpose"> — resets the password of a user</span></dt><dt><span class="refentrytitle"><a href="#id377552">saveConfiguration</a></span><span class="refpurpose"> — saves the configuration of VISHNU</span></dt><dt><span class="refentrytitle"><a href="#id377734">restoreConfiguration</a></span><span class="refpurpose"> — restores the configuration of VISHNU</span></dt><dt><span class="refentrytitle"><a href="#id377920">addMachine</a></span><span class="refpurpose"> — adds a new machine in VISHNU</span></dt><dt><span class="refentrytitle"><a href="#id378131">updateMachine</a></span><span class="refpurpose"> — updates machine description</span></dt><dt><span class="refentrytitle"><a href="#id378339">deleteMachine</a></span><span class="refpurpose"> — removes a machine from VISHNU</span></dt><dt><span class="refentrytitle"><a href="#id378538">listUsers</a></span><span class="refpurpose"> — lists VISHNU users</span></dt><dt><span class="refentrytitle"><a href="#id378757">configureDefaultOption</a></span><span class="refpurpose"> — configures a default option value</span></dt></dl></dd><dt><span class="reference"><a href="#id378978">III. UMS Python API Reference</a></span></dt><dd><dl><dt><span class="refentrytitle"><a href="#id378984">VISHNU_UMS.addUser</a></span><span class="refpurpose"> — adds a new VISHNU user</span></dt><dt><span class="refentrytitle"><a href="#id379244">VISHNU_UMS.updateUser</a></span><span class="refpurpose"> — updates the user information except the userId and the password</span></dt><dt><span class="refentrytitle"><a href="#id379504">VISHNU_UMS.deleteUser</a></span><span class="refpurpose"> — removes a user from VISHNU</span></dt><dt><span class="refentrytitle"><a href="#id379744">VISHNU_UMS.resetPassword</a></span><span class="refpurpose"> — resets the password of a user</span></dt><dt><span class="refentrytitle"><a href="#id380003">VISHNU_UMS.saveConfiguration</a></span><span class="refpurpose"> — saves the configuration of VISHNU</span></dt><dt><span class="refentrytitle"><a href="#id380216">VISHNU_UMS.restoreConfiguration</a></span><span class="refpurpose"> — restores the configuration of VISHNU</span></dt><dt><span class="refentrytitle"><a href="#id380431">VISHNU_UMS.addMachine</a></span><span class="refpurpose"> — adds a new machine in VISHNU</span></dt><dt><span class="refentrytitle"><a href="#id380674">VISHNU_UMS.updateMachine</a></span><span class="refpurpose"> — updates machine description</span></dt><dt><span class="refentrytitle"><a href="#id380914">VISHNU_UMS.deleteMachine</a></span><span class="refpurpose"> — removes a machine from VISHNU</span></dt><dt><span class="refentrytitle"><a href="#id381145">VISHNU_UMS.listUsers</a></span><span class="refpurpose"> — lists VISHNU users</span></dt><dt><span class="refentrytitle"><a href="#id381393">VISHNU_UMS.configureDefaultOption</a></span><span class="refpurpose"> — configures a default option value</span></dt></dl></dd></dl></div><div class="chapter" title="Chapter 1. Présentation du document"><div class="titlepage"><div><div><h2 class="title"><a id="id371685"></a>Chapter 1. Présentation du document</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="#id371690">Objectifs du document</a></span></dt><dt><span class="section"><a href="#id371701">Structure du document</a></span></dt></dl></div><div class="section" title="Objectifs du document"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id371690"></a>Objectifs du document</h2></div></div></div><p>Ce document présente l'administration de la plateforme VISHNU.
      </p></div><div class="section" title="Structure du document"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id371701"></a>Structure du document</h2></div></div></div><p>Ce document contient les parties suivantes:
      </p><p>
	</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Définitions</p></li><li class="listitem"><p>Installation</p></li><li class="listitem"><p>Installation des web services</p></li><li class="listitem"><p>Déploiement</p></li><li class="listitem"><p>Administration</p></li><li class="listitem"><p>Référence des commandes (en anglais)</p></li><li class="listitem"><p>Référence de l'API C++ (en anglais)</p></li><li class="listitem"><p>Référence de l'API Python (en anglais)</p></li></ul></div><p>
      </p></div></div><div class="chapter" title="Chapter 2. Définitions"><div class="titlepage"><div><div><h2 class="title"><a id="id371774"></a>Chapter 2. Définitions</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="#id371780">Acronymes</a></span></dt><dt><span class="section"><a href="#id371834">Références</a></span></dt><dt><span class="section"><a href="#id371866">Glossaire</a></span></dt></dl></div><div class="section" title="Acronymes"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id371780"></a>Acronymes</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>DB : Base de données: elle est centralisée et utilisée pour sauvegarder toutes les données manipulées
	    par les divers modules.</p></li><li class="listitem"><p> MA : "Master Agent": élément de Sysfera-DS distribuant les requêtes entre les clients et les services désirés.</p></li><li class="listitem"><p>SQL : Langage de requêtes sur les bases de données</p></li><li class="listitem"><p>TMS : Task Management Service</p></li><li class="listitem"><p>UMS : User Management Service</p></li><li class="listitem"><p>WS : Web Services</p></li></ul></div></div><div class="section" title="Références"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id371834"></a>Références</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>[ARCH] D1.1g-VISHNU Technical Architecture : description de l'architecture de l'application VISHNU</p></li><li class="listitem"><p>[DIET_USERGUIDE] DIET User Guide : guide de l'utilisateur DIET (nom du projet OpenSource de l'application SysFera-DS)</p></li><li class="listitem"><p>[VISHNU_USERMANUAL] VISHNU User Manual : guide de l'utilisateur VISHNU.</p></li></ul></div></div><div class="section" title="Glossaire"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id371866"></a>Glossaire</h2></div></div></div><p>
	</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Client TMS : Cela désigne les programmes permettant un accès à distance aux services du SeD TMS. </p></li><li class="listitem"><p>Client UMS : Cela désigne les programmes permettant un accès à distance aux services du SeD UMS. </p></li><li class="listitem"><p>Préfrontale : Cela désigne une machine mise avant la(les) frontale(s) des calculateurs. </p></li><li class="listitem"><p>SeD TMS : Cela désigne le programme contenant et exécutant les services du module TMS. </p></li><li class="listitem"><p>SeD UMS : Cela désigne le programme contenant et exécutant les services du module UMS. </p></li><li class="listitem"><p>Sysfera-DS : Intergiciel open source développé par SysFera. </p></li></ul></div><p>
      </p></div></div><div class="chapter" title="Chapter 3. Installation à partir des sources"><div class="titlepage"><div><div><h2 class="title"><a id="id371928"></a>Chapter 3. Installation à partir des sources</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="#id371934">Objectifs</a></span></dt><dt><span class="section"><a href="#id371950">Prérequis</a></span></dt><dt><span class="section"><a href="#id372088"> Compilation des sources </a></span></dt></dl></div><div class="section" title="Objectifs"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id371934"></a>Objectifs</h2></div></div></div><p> Ce chapitre va présenter comment installer VISHNU à partir des sources. Il expliquera comment installer les serveurs et/ou les clients (l'installation d'un serveur implique l'installation du client associé). Le module UMS est nécessaire pour le module TMS, sinon n'importe quel module peut être installé sur une machine donnée sans dépendance des autres, et cela n'empêche pas d'utiliser les services même si les serveurs sont sur des machines différentes. </p></div><div class="section" title="Prérequis"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id371950"></a>Prérequis</h2></div></div></div><p>Les logiciels suivants doivent être installés sur le système, avec les fichiers de développement (paquets -dev):</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Dépendances requises pour tous les modules VISHNU:</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>GCC version 4.4.3 minimum</p></li><li class="listitem"><p>CMAKE version 2.6 minimum</p></li><li class="listitem"><p>BOOST version 1.45 minimum</p></li><li class="listitem"><p>OMNIORB version 4.1.4</p></li><li class="listitem"><p>libcrypt</p></li><li class="listitem"><p>SSH</p></li><li class="listitem"><p>Sysfera-DS (DIET version 2.7 minimum + le module log service associé)</p></li></ul></div></li><li class="listitem"><p>Dépendances requises pour le module TMS:</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>Torque API v3.2.6</p></li><li class="listitem"><p>IBM LoadLeveler API</p></li><li class="listitem"><p>ou SLURM API v2.2.1</p></li></ul></div></li><li class="listitem"><p>Dépendances optionnelles:</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>Base de données, à mettre sur les machines avec des serveurs, au choix : </p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem"><p>PGSQL-API (api PostGreSQL) version 8.0 minimum</p></li><li class="listitem"><p>MYSQL-API (api MySQL) version 5.1 minimum</p></li></ul></div></li></ul></div></li></ul></div></div><div class="section" title="Compilation des sources"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id372088"></a> Compilation des sources </h2></div></div></div><p>VISHNU utilise CMake comme système de construction et se conforme aux
	pratiques communément admises.
	Les options principales utilisables sont les suivantes:
	</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
	      BUILD_TESTING, compile les tests si le flag est activé (OFF par défaut).
	    </p></li><li class="listitem"><p>
	      CLIENT_ONLY, qui permet de ne compiler que les clients si le flag est activé (OFF par défaut). Sinon les clients et les serveurs sont compilés.
	    </p></li><li class="listitem"><p>
	      CMAKE_INSTALL_PREFIX, répertoire d'installation (/usr/local par défaut sur les plateformes *nix)
	    </p></li><li class="listitem"><p>
	      COMPILE_TMS, compile le module TMS si le flag est activé (OFF par défaut). Si ON, COMPILE_UMS doit aussi être à ON et
              l'une des options VISHNU_USE_TORQUE, VISHNU_USE_LOADLEVELER ou VISHNU_USE_SLURM doit être à ON.
	    </p></li><li class="listitem"><p>
	      COMPILE_UMS, compile le module UMS si le flag est activé (OFF par défaut).
	    </p></li><li class="listitem"><p>
	      ENABLE_PYTHON, qui permet d'activer la compilation du code PYTHON (OFF par défaut).
	    </p></li><li class="listitem"><p>
	      ENABLE_JAVA, qui permet d'activer la compilation des sources JAVA pour les web services (OFF par défaut).
	    </p></li><li class="listitem"><p>
        ENABLE_SWIG, qui permet d'activer la generation du code des adapteurs Python et Java (OFF par défaut). Cette option doit obligatoirement être activée si on choisit de ne pas compiler tous les modules VISHNU c'est-à-dire si au moins l'une des options COMPILE_UMS, COMPILE_TMS est à OFF. Si l'option ENABLE_SWIG est activée, le package SWIG (voir paragraphe 'Prérequis') est nécessaire pour compiler.
      </p></li><li class="listitem"><p>
	      VISHNU_USE_LOADLEVELER, compile le SeD TMS pour load leveler (OFF par défaut).
	    </p></li><li class="listitem"><p>
	      VISHNU_USE_TORQUE, compile le SeD TMS pour torque (OFF par défaut).
	    </p></li><li class="listitem"><p>
        VISHNU_USE_SLURM, compile le SeD TMS pour SLURM (OFF par défaut).
      </p></li></ul></div><p>
      </p><p>
	Par exemple, pour compiler VISHNU (clients et serveurs) avec l'API
	Python puis l'installer dans le répertoire /opt/vishnu sous *nix:
      </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>1. créer un répertoire build à la racine du projet et se placer dedans</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>$ <span class="bold"><strong>mkdir build</strong></span></p></li><li class="listitem"><p>$ <span class="bold"><strong>cd build</strong></span></p></li></ul></div></li><li class="listitem"><p>2. générer le Makefile</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>$ <span class="bold"><strong>cmake -DENABLE_PYTHON=ON -DENABLE_SWIG=ON -DCMAKE_INSTALL_PREFIX=/opt/vishnu/ </strong></span></p><p> <span class="bold"><strong>-DCOMPILE_UMS=ON -DCOMPILE_TMS=ON -DVISHNU_USE_TORQUE=0N -DTORQUE_DIR=/opt/torque ..</strong></span></p></li></ul></div></li><li class="listitem"><p>3. lancer la compilation avec 2 jobs</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>$ <span class="bold"><strong>make -j 2</strong></span></p></li></ul></div></li><li class="listitem"><p>4. installation (en mode super-utilisateur)</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p># <span class="bold"><strong>make install</strong></span></p></li></ul></div></li></ul></div><p><span class="bold"><strong>Note</strong></span>: pensez à ajouter le répertoire d'installation dans le $PATH
	utilisateur pour avoir accès à la commande.</p></div></div><div class="chapter" title="Chapter 4. Configuration de la base de données"><div class="titlepage"><div><div><h2 class="title"><a id="id372326"></a>Chapter 4. Configuration de la base de données</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="#id372342">Utilisation d'une base de données PostGreSQL</a></span></dt><dt><span class="section"><a href="#id371179">Utilisation d'une base de données MySQL</a></span></dt></dl></div><p>Les fichiers de configuration de la DB sont disponibles dans le répertoire core/database du package d'installation VISHNU. Les seules bases de données actuellement supportées sont PostgreSQL et MySQL. Les bases de type Oracle ne sont pas supportées. Lors de l'installation toutes les machines doivent avoir soit PostgreSQL, soit MySQL, mais pas certaines machines une base et d'autres une autre, cela ne fonctionnerait pas.</p><div class="section" title="Utilisation d'une base de données PostGreSQL"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id372342"></a>Utilisation d'une base de données PostGreSQL</h2></div></div></div><p>Pour une installation d'une nouvelle base de données, les scripts 'postgre_create.sql' et 'database_init.sql' doivent être utilisés par l'administrateur de la DB.</p><p>Pour la mise à jour de la base de données lors d'un passage de la release VISHNU précédente à la nouvelle release VISHNU, les scripts 'postgre_update.sql' et 'database_update.sql' doivent être utilisés par l'administrateur de la DB. Le détail des numéros de release est indiqué dans les commentaires au début du script.</p></div><div class="section" title="Utilisation d'une base de données MySQL"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id371179"></a>Utilisation d'une base de données MySQL</h2></div></div></div><p>Pour une installation d'une nouvelle base de données, les scripts 'mysql_create.sql' et 'database_init.sql' doivent être utilisés par l'administrateur de la DB.</p><p>Pour la mise à jour de la base de données lors d'un passage de la release VISHNU précédente à la nouvelle release VISHNU, les scripts 'postgre_update.sql' et 'mysql_update.sql' doivent être utilisés par l'administrateur de la DB. Le détail des numéros de release est indiqué dans les commentaires au début du script.</p></div></div><div class="chapter" title="Chapter 5. Installation des web services"><div class="titlepage"><div><div><h2 class="title"><a id="id371202"></a>Chapter 5. Installation des web services</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="#id371207">Pré-requis</a></span></dt><dt><span class="section"><a href="#id372524">Installation de JBoss</a></span></dt><dt><span class="section"><a href="#id372633">Installation des module WS dans JBoss</a></span></dt><dd><dl><dt><span class="section"><a href="#id372638">Fichiers à installer</a></span></dt><dt><span class="section"><a href="#id372837">Variables d'environnement à définir</a></span></dt><dt><span class="section"><a href="#id372869">Lancement du serveur JBoss avec le module WS</a></span></dt></dl></dd></dl></div><div class="section" title="Pré-requis"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id371207"></a>Pré-requis</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Installer <span class="bold"><strong>Java 1.6</strong></span> (commande 'sudo apt-get install openjdk-6-jdk' ou bien 'sudo apt-get install sun-java6-jdk' sur Linux Debian)
            et vérifier que la variable JAVA_HOME est bien définie et contient le répertoire racine de l'installation de java.</p></li><li class="listitem"><p>Installer les modules désirés avec les options -DENABLE_JAVA=ON et -DENABLE_SWIG (<span class="bold"><strong>Note</strong></span> :
            Ce pré-requis est optionnel car les jars sont déjà fournis dans la distribution des web services).</p></li><li class="listitem"><p>Installer <span class="bold"><strong>Maven 2</strong></span> pour compiler les jars (<span class="bold"><strong>Note</strong></span> :
            Ce pré-requis est optionnel car les jars sont déjà fournis dans la distribution des web services.
            Par ailleurs la compilation avec maven nécessite une connexion internet).</p></li></ul></div></div><div class="section" title="Installation de JBoss"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id372524"></a>Installation de JBoss</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Télécharger le package JBOSSAS : (la version binaire est disponible) sur http://www.jboss.org/jbossas/downloads =&gt; version 5.1.0.GA</p></li><li class="listitem"><p>Télécharger le package JBOSSWS : (la version binaire est disponible) sur http://www.jboss.org/jbossws/downloads/ =&gt; version 3.3.1.GA</p></li><li class="listitem"><p>Décompresser l'archive du package JBOSSAS 5.1.0</p></li><li class="listitem"><p> Définir la variable d'environement JBOSS_HOME sur le répertoire décompressé. Par exemple dans le .bashrc :
	    'export JBOSS_HOME=/home/toto/jboss-5.1.0.GA'</p></li><li class="listitem"><p>Décompresser l'archive du package JBOSSWS 3.3.1 et aller dans le répertoire créé</p></li><li class="listitem"><p> Copier le fichier 'ant.properties.example' en 'ant.properties'</p></li><li class="listitem"><p> Editer le fichier nouvellement créé 'ant.properties'. Mettre la valeur de la variable jboss510.home à la valeur du répertoire de JBOSSAS (même valeur que dans la variable JBOSS_HOME). Il faut noter que si une autre version que la 5.1.0 de jboss a été prise, il faut modifier la variable correspondant à cette version</p></li><li class="listitem"><p> Lancer la commande 'ant deploy-jboss510'. Si une autre version de jboss a été prise, il faut faire la commande de la version correspondante</p></li><li class="listitem"><p>Le lancement du serveur se fait en lançant le script JBOSS_HOME/bin/run.sh. Pour que le serveur jboss soit accessible depuis une autre machine, utiliser l'option '-b adresseIP' où
            adresseIP représente l'adresse IP du serveur, et vérifier que le firewall du serveur autorise l'accès au port 8080.</p></li><li class="listitem"><p><span class="bold"><strong>Vérification de l'installation:</strong></span> Pour vérifier que le serveur JBoss est bien démarré et que le module web services est activé, lancer un navigateur internet sur le serveur et se connecter
            sur l'adresse 'http://localhost:8080/jbossws' (ou 'http://adresseIP:8080/jbossws') et vérifier que la page affiche bien la version
            du module web services (jbossws-cxf-3.3.1.GA).</p></li></ul></div></div><div class="section" title="Installation des module WS dans JBoss"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id372633"></a>Installation des module WS dans JBoss</h2></div></div></div><div class="section" title="Fichiers à installer"><div class="titlepage"><div><div><h3 class="title"><a id="id372638"></a>Fichiers à installer</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>VISHNULib-1.0-SNAPSHOT.jar
              </p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>Contient les classes internes faisant le lien JAVA(JNI)/C++.</p></li><li class="listitem"><p>A copier dans <span class="bold"><strong>JBOSS_HOME/server/default/lib</strong></span>.</p></li><li class="listitem"><p>Le changer implique un redémarrage du serveur JBOSS.</p></li><li class="listitem"><p>Compilation (si nécessaire)
                    </p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem"><p>Aller dans le répertoire VISHNULib</p></li><li class="listitem"><p>Faire 'mvn install' (peut être long la première fois)</p></li><li class="listitem"><p>Le fichier .jar produit se trouve dans le répertoire target/</p></li></ul></div><p>
                </p></li></ul></div><p>
            </p></li><li class="listitem"><p>WSAPI.jar
              </p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>Contient les classes issues du WSDL et l'implémentation des WS.</p></li><li class="listitem"><p>A mettre dans <span class="bold"><strong>JBOSS_HOME/server/default/deploy</strong></span>.</p></li><li class="listitem"><p>Peut être mis à jour sans redémarrer le serveur JBOSS.</p></li><li class="listitem"><p>Compilation (si nécessaire)
                    </p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem"><p>Aller dans le répertoire WSAPI, avoir le jar VISHNULib-1.0-SNAPSHOT.jar de déjà fait</p></li><li class="listitem"><p>Faire 'mvn install' (peut être long la première fois)</p></li><li class="listitem"><p>Le fichier .jar produit se trouve dans le répertoire target/</p></li><li class="listitem"><p>Renommer le jar en WSAPI.jar avant de le mettre dans jboss, ceci est nécessaire</p></li></ul></div><p>
                </p></li></ul></div><p>
            </p></li><li class="listitem"><p>libVISHNU.so
              </p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>Nécessaire pour le fonctionnement des WS, cette librairie dynamique est obtenue en compilant les modules VISHNU désirés avec l'option ENABLE_JAVA.</p></li><li class="listitem"><p>Le fichier est installé par défaut par le package VISHNU UMS dans '/usr/local/lib' et il n'est pas nécessaire de le copier.</p></li><li class="listitem"><p>S'il y a un problème de déploiement dans le serveur jboss, vérifier qu'elle est bien accessible et dans le LD_LIBRARY_PATH.</p></li></ul></div><p>
            </p></li></ul></div></div><div class="section" title="Variables d'environnement à définir"><div class="titlepage"><div><div><h3 class="title"><a id="id372837"></a>Variables d'environnement à définir</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>VISHNU_CONFIG_FILE : contient le chemin complet du fichier de configuration client de VISHNU. Se référer
              au guide d'installation du client [VISHNU_USER_GUIDE] pour connaître le contenu de ce fichier.
              Si l'exécution échoue avec un message d'erreur lié à initialisation de la librairie lors du connect, vérifier le contenu de cette variable.
            </p></li><li class="listitem"><p>LD_LIBRARY_PATH : contient les chemins des répertoires contenant les librairies VISHNU, notamment libVISHNU_UMS.so.</p></li></ul></div></div><div class="section" title="Lancement du serveur JBoss avec le module WS"><div class="titlepage"><div><div><h3 class="title"><a id="id372869"></a>Lancement du serveur JBoss avec le module WS</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Après installation des fichiers définis au paragraphe précédent, le serveur JBoss doit être redémarré en lançant le script JBOSS_HOME/bin/run.sh
              (avec les options indiquées au paragraphe sur le serveur JBoss).</p></li><li class="listitem"><p><span class="bold"><strong>Vérification de l'installation:</strong></span> Pour vérifier que le serveur JBoss est bien démarré et que le module UMS WS est activé, lancer un navigateur internet sur le serveur et se connecter
              sur l'adresse 'http://localhost:8080/jbossws/services' (ou 'http://adresseIP:8080/jbossws/services') et vérifier que le
              "service endPoint" : <span class="bold"><strong>VISHNUUMSPortImpl</strong></span> est actif.</p></li></ul></div></div></div></div><div class="chapter" title="Chapter 6. Déploiement de VISHNU"><div class="titlepage"><div><div><h2 class="title"><a id="id372914"></a>Chapter 6. Déploiement de VISHNU</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="#id372920">Lancement sur un même réseau</a></span></dt><dt><span class="section"><a href="#id373323">Lancement sur plusieurs réseaux</a></span></dt><dt><span class="section"><a href="#id373787">Exemple de fichier de configuration d'un MA</a></span></dt><dt><span class="section"><a href="#id373798">Exemple de fichier de configuration pour un SeD DIET</a></span></dt><dt><span class="section"><a href="#id373809">Exemple de fichier de configuration d'un SeD UMS</a></span></dt><dt><span class="section"><a href="#id373822">Exemple de fichier de configuration d'un SeD TMS </a></span></dt><dt><span class="section"><a href="#id373840">Exemple de fichier d'un forwarder </a></span></dt><dt><span class="section"><a href="#id373851">Exemple de fichier du LogCentral </a></span></dt><dt><span class="section"><a href="#id373863">Configuration de l'envoi des emails par VISHNU</a></span></dt><dt><span class="section"><a href="#id373989">Test d'exécution d'un service depuis une machine client par shell</a></span></dt></dl></div><div class="section" title="Lancement sur un même réseau"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id372920"></a>Lancement sur un même réseau</h2></div></div></div><p>Les modules peuvent être lancés soit manuellement, soit en utilisant l'outil GoDIET : un logiciel de lancement pour Sysfera-DS depuis une machine d'administration. Le déploiement se fera en suivant la configuration montrée sur la figure 4.1 du document [ARCH]. Pour simplier les choses, on supposera que les divers éléments dans le carré "dedicated to VISHNU" vont être déployés sur la même machine que l'on va nommer <span class="bold"><strong>préfrontale</strong></span>.</p><p><span class="bold"><strong>NOTE: l'outil GoDIET sera disponible lors de la livraison finale du projet VISHNU</strong></span></p><p><span class="bold"><strong>NOTE: Il est préférable d'éviter de lancer le même SeD sur la même machine.</strong></span></p><p><span class="bold"><strong>NOTE: Il existe un bug connu sur debian (entre autre) avec boost file system, utilisé par VISHNU. Le rapport de bug est ici et le bug est actuellement ouvert: https://svn.boost.org/trac/boost/ticket/4688. Si lors du lancement d'un SeD, le message d'erreur suivant apparait : std::runtime_error: locale::facet::_S_create_c_locale name not valid, faire un "export LANG=C" et cela devrait régler le problème.</strong></span></p><p>Pour mieux comprendre l'architecture de déploiement, se référer au document [ARCH], le chapitre 4, 'Technical Architecture'.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p> Avoir une base de données PostGreSQL accessible et initialisée (tables créées et premières données créées). Des scripts SQL sont fournis pour cela. Avoir la base PostGreSQL configurée pour qu'elle soit accessible par VISHNU (voir le fichier de configuration pg_hba.conf qui se situe dans un répertoire de la forme '/etc/postgresql/8.3/main' pour configurer la base).</p></li><li class="listitem"><p> Lancer le service de nommage CORBA sur la machine préfrontale. La commande est <span class="bold"><strong>omniNames -start</strong></span> pour la première fois, sinon <span class="bold"><strong>omniNames</strong></span> suffit. Attention, dans la configuration de l'omninames, bien utiliser l'adresse de l'hôte et non pas 'localhost' ou '127.0.0.1'. </p></li><li class="listitem"><p> Lancer le log service de DIET sur la machine préfrontale. La commande est <span class="bold"><strong>LogCentral --config config.cfg</strong></span> avec config.cfg un fichier de configuration pour le log central. </p></li><li class="listitem"><p> Lancer le MA avec son fichier de configuration sur la machine préfrontale : <span class="bold"><strong>dietAgent config.cfg</strong></span>. Voir le paragraphe 6.3 pour avoir un exemple de configuration. Ce fichier de configuration peut contenir les 3 lignes suivantes :
            </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> 'traceLevel = 0' : Le niveau de verbosité du master agent, cette valeur peut être entre 0 et 10 compris. </p></li><li class="listitem"><p> 'agentType = DIET_MASTER_AGENT' : Le type de l'agent, l'autre type disponible est DIET_LOCAL_AGENT mais dans notre cas il faut DIET_MASTER_AGENT.</p></li><li class="listitem"><p> 'name = MA0' : Le nom que l'on veut donner à l'agent, par exemple on le nomme MA0 ici.</p></li></ul></div><p>
          </p></li><li class="listitem"><p>Lancer le SeD UMS sur la préfrontale avec la commande <span class="bold"><strong>umssed ~/ums_sed.cfg</strong></span>. Le paramètre est un fichier de configuration VISHNU. Voir le paragraphe 6.5 pour un exemple de fichier de configuration. Les paramètres à fournir correspondent à :
            </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
                  'dietConfigFile=/usr/local/etc/SeD.cfg' : le chemin jusqu'au fichier de configuration DIET du SeD. Voir le paragraphe 6.4 pour un exemple de configuration. Ce fichier peut par exemple contenir les 2 lignes suivantes :
                  </p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>'traceLevel = 0' : Le niveau de verbosité du SeD UMS, ce niveau peut être entre 0 (minimum) et 10 compris.</p></li><li class="listitem"><p> 'parentName = MA0' : Le nom du MA auquel le SeD UMS doit se lier. Ce doit être exactement le même nom que celui donné au même dans le champs 'name' du MA en question, sur cet exemple c'est MA0.</p></li><li class="listitem"><p> 'useLogService = 1' : Pour utiliser le service de log dans DIET (sinon les SeD n'émettent aucun message).</p></li></ul></div><p>
		</p></li><li class="listitem"><p> 'vishnuId=1' : L'id de VISHNU à utiliser dans la DB (valeur '1' par défaut) .</p></li><li class="listitem"><p> 'databaseType=postgresql' : Pour utiliser une base postgreSQL. Pour utiliser une base MySQL, il faut mettre 'mysql' comme type.</p></li><li class="listitem"><p>
                  'databaseHost=localhost' : Le nom DNS du serveur de bases de données, ou 'localhost' si la base est locale.
		</p></li><li class="listitem"><p>'databaseName=vishnu' : Le nom de la base de données</p></li><li class="listitem"><p> 'databaseUserName=vishnu_user' : Le nom d'utilisateur pour se connecter à la DB.</p></li><li class="listitem"><p> 'databaseUserPassword=vishnu_user' : Le mot de passe pour se connecter à la DB.</p></li><li class="listitem"><p> 'databaseConnectionsNb=5' : Le nombre de connexions ouvertes sur la base de données par le SeD afin de traiter des requêtes en parallèle.
                  (le nombre par défaut est 10). Si le nombre d'utilisateurs simultané du SeD est grand, cette valeur doit être augmentée dans
                  la limite du nombre de connections simultanées autorisées par le serveur de base de données.</p></li><li class="listitem"><p> 'sendmailScriptPath=/usr/local/vishnu/sbin/sendmail.py' : Le script à utiliser pour envoyer les mails. Il est installé avec le module UMS
                  dans le sous-répertoire sbin/ du répertoire d'installation.</p></li></ul></div><p>
          </p></li><li class="listitem"><p>
	    Sur la machine hôte de Torque, lancer le serveur (pbs_serv), le scheduler (pbs_sched) et l'ordonnanceur (pbs_mom) de Torque.
	  </p></li><li class="listitem"><p>Lancer le SeD TMS sur la machine hôte de Torque. La commande de lancement est : <span class="bold"><strong>tmssed ~/tms_sed.cfg</strong></span>. Le paramètre est un fichier de configuration VISHNU. Voir le paragraphe 6.6 pour un exemple de fichier de configuration. Les paramètres à fournir correspondent à ceux de UMS avec de plus :
	    </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>'intervalMonitor = 1' : La fréquence (en secondes) de mise à jour des données dans la base concernant les états des jobs.</p></li><li class="listitem"><p>'batchSchedulerType=TORQUE' : Le type du batch scheduler utilisé.</p></li><li class="listitem"><p>'vishnuMachineId=machine_1' : L'identifiant VISHNU de la machine ou le SeD TMS est lancé (obtenu en utilisant la commande vishnu_list_machines).</p></li></ul></div><p>
	  </p></li><li class="listitem"><p>
      Sur la machine hôte de SLURM, lancer les serveurs <span class="emphasis"><em>slurmd, slurmctld</em></span> et <span class="emphasis"><em>slurmdbd</em></span>.
    </p></li><li class="listitem"><p>Lancer le SeD TMS sur la machine hôte de SLURM. La commande de lancement est : <span class="bold"><strong>tmssed ~/tms_sed.cfg</strong></span>. Le paramètre est un fichier de configuration VISHNU. Voir le paragraphe 6.6 pour un exemple de fichier de configuration. Les paramètres à fournir correspondent à ceux de UMS avec de plus :
      </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>'intervalMonitor = 1' : La fréquence (en secondes) de mise à jour des données dans la base concernant les états des jobs.</p></li><li class="listitem"><p>'batchSchedulerType=SLURM' : Le type du batch scheduler utilisé.</p></li><li class="listitem"><p>'vishnuMachineId=machine_2' : L'identifiant VISHNU de la machine ou le SeD TMS est lancé (obtenu en utilisant la commande vishnu_list_machines).</p></li></ul></div><p>
    </p></li><li class="listitem"><p>
	    Les modules de VISHNU sont prêts à être utilisés. Pour ce faire, un client doit se connecter et soumettre des requêtes à VISHNU au moyen des commandes UMS, TMS (voir le manuel de l'utilisateur VISHNU pour plus d'informations sur les commandes utilisateurs disponibles).
	  </p></li></ol></div></div><div class="section" title="Lancement sur plusieurs réseaux"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id373323"></a>Lancement sur plusieurs réseaux</h2></div></div></div><p>Un module VISHNU peut être lancé soit manuellement, soit en utilisant l'outil GoDIET : un logiciel de lancement pour Sysfera-DS depuis une machine d'administration.
	Pour le déploiement on se base sur le modèle de la figure 4.2 du document [ARCH] en supposant pour simplifier que sur un réseau tout est lancé sur la même machine et que les réseaux "Network C" et "Network D" sont confondus (pas de forwarder à mettre entre eux).</p><p><span class="bold"><strong>NOTE : l'outil GoDIET sera disponible lors de la livraison finale du projet VISHNU</strong></span></p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p> Avoir une base de données PostgreSQL accessible et initialisée (tables créées et premières données créées). Des scripts SQL sont fournis pour cela. Avoir la base PostGreSQL configurée pour qu'elle soit accessible par VISHNU (voir le fichier de configuration pg_hba.conf qui se situe dans un répertoire de la forme '/etc/postgresql/8.3/main' pour configurer la base).</p></li><li class="listitem"><p> Lancer le service de nommage CORBA sur les différents réseaux. La commande est <span class="bold"><strong>omniNames -start</strong></span> pour la première fois, sinon <span class="bold"><strong>omniNames</strong></span> suffit. Attention, dans la configuration de l'omninames, bien utiliser l'adresse de l'hôte et non pas 'localhost' ou '127.0.0.1'. </p></li><li class="listitem"><p> Lancer un démon forwarder sur le reseau 2 (Network B) :  </p><p><span class="bold"><strong>dietForwarder --name forwarder2 --net-config forwarder2.cfg</strong></span>
	    </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
		  forwarder2 : nom qui identifie le démon forwarder sur ce réseau
	      </p></li><li class="listitem"><p>
		  forwarder2.cfg : fichier de configuration (voir le paragraphe 6.8 pour un exemple de configuration) contenant des règles appliquées aux
		  connections entre agents de l'intergiciel. Les règles sont de deux sortes : 'accept:' ou 'reject:'. Dans l'exemple de le paragraphe 6.8, les
		  règles utilisées sont :
		  </p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p> une règle 'accept' correspondant au filtre sur la source des connections acceptées. '.*' signifie les connections provenant
			de n'importe quelle adresse IP.</p></li><li class="listitem"><p> deux règles 'reject' contenant les adresses destination à rejeter. Il est nécessaire que l'adresse IP du serveur sur lequel
			tourne le démon forwarder soit indiquée dans une règle de ce type. Dans l'exemple le serveur ayant deux adresses IP on a
			indiqué une règle pour chaque adresse.</p></li></ul></div><p>
		</p></li></ul></div><p>
	  </p></li><li class="listitem"><p> Lancer un démon forwarder sur le reseau 1 (network C) : </p><p><span class="bold"><strong>dietForwarder -C--peer-name forwarder2 --ssh-host nom_DNS_machine_distante --remote-port 50005 --name forwarder
	    --net-config forwarder1.cfg
	    --remote-host localhost
	    --ssh-login login</strong></span>
	  </p><p>
	    </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
		  -C : indique que c'est ce démon forwarder qui crée le tunnel SSH.
	      </p></li><li class="listitem"><p>
		  --peer-name : le nom donné au forwarder de l'autre coté, ici forwarder2.
	      </p></li><li class="listitem"><p>
		  --ssh-host : la nom DNS de la machine distante pour connecter le tunnel SSH.
	      </p></li><li class="listitem"><p>
		  --remote-port : le port à utiliser pour le tunnel ssh, ici 50005.
	      </p></li><li class="listitem"><p>
		  --name : le nom identifiant ce démon forwarder, c'est-à-dire 'forwarder1'.
	      </p></li><li class="listitem"><p>
		  --net-config : le fichier de configuration, ici forwarder1.cfg. Ce fichier doit contenir des règles 'reject' et 'accept' également,
		  sur le même modèle que forwarder2.cfg.
	      </p></li><li class="listitem"><p>
		  --remote-host : le nom de l'adresse loopback, c'est-à-dire 'localhost'.
	      </p></li><li class="listitem"><p>
		  --ssh-login : le login de connection sur la machine distante.
	      </p></li></ul></div><p>
	  </p></li><li class="listitem"><p>Si la clé ssh est accessible (le chemin par défaut est le répertoire $HOME/.ssh/) et que la clé est protégée par une passphrase,
	    la passphrase est demandée et la connexion ssh s'établit.</p></li><li class="listitem"><p> Lancer un démon forwarder pour le log service sur le reseau 2 (network B) :  </p><p><span class="bold"><strong>logForwarder --name logforwarder2 --net-config logforwarder2.cfg</strong></span>
	    </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
		  logforwarder2 : nom qui identifie le démon forwarder sur ce réseau
	      </p></li><li class="listitem"><p>
		  logforwarder2.cfg : fichier de configuration (voir le paragraphe 6.8 pour un exemple de fichier de configuration) contenant des règles appliquées aux
		  connections entre agents de l'intergiciel. Les règles sont de deux sortes : 'accept:' ou 'reject:'. Dans l'exemple de le paragraphe 6.8, les
		  règles utilisées sont :
		  </p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p> une règle 'accept' correspondant au filtre sur la source des connections acceptées. '.*' signifie les connections provenant
			de n'importe quelle adresse IP.</p></li><li class="listitem"><p> deux règles 'reject' contenant les adresses destination à rejeter. Il est nécessaire que l'adresse IP du serveur sur lequel
			tourne le démon forwarder soit indiquée dans une règle de ce type. Dans l'exemple le serveur ayant deux adresses IP on a
			indiqué une règle pour chaque adresse.</p></li></ul></div><p>
		</p></li></ul></div><p>
	  </p></li><li class="listitem"><p> Lancer un démon log forwarder sur le reseau 1 (network C) : </p><p><span class="bold"><strong>logForwarder -C--peer-name logforwarder2 --ssh-host nom_DNS_machine_distante --remote-port 50005 --name logforwarder
	    --net-config logforwarder1.cfg
	    --remote-host localhost
	    --ssh-login login</strong></span>
	  </p><p>
	    </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
		  -C : indique que c'est ce démon forwarder qui crée le tunnel SSH.
	      </p></li><li class="listitem"><p>
		  --peer-name : le nom donné au forwarder de l'autre coté, ici forwarder2.
	      </p></li><li class="listitem"><p>
		  --ssh-host : la nom DNS de la machine distante pour connecter le tunnel SSH.
	      </p></li><li class="listitem"><p>
		  --remote-port : le port à utiliser pour le tunnel ssh, ici 50005.
	      </p></li><li class="listitem"><p>
		  --name : le nom identifiant ce démon forwarder, c'est-à-dire 'forwarder1'.
	      </p></li><li class="listitem"><p>
		  --net-config : le fichier de configuration, ici forwarder1.cfg. Ce fichier doit contenir des règles 'reject' et 'accept' également,
		  sur le même modèle que forwarder2.cfg.
	      </p></li><li class="listitem"><p>
		  --remote-host : le nom de l'adresse loopback, c'est-à-dire 'localhost'.
	      </p></li><li class="listitem"><p>
		  --ssh-login : le login de connection sur la machine distante.
	      </p></li></ul></div><p>
	  </p></li><li class="listitem"><p>Si la clé ssh est accessible (le chemin par défaut est le répertoire $HOME/.ssh/) et que la clé est protégée par une passphrase,
	    la passphrase est demandée et la connexion ssh s'établit.</p></li><li class="listitem"><p> Lancer le log service de DIET sur la machine du network B. La commande est <span class="bold"><strong>LogCentral --config config.cfg</strong></span> avec config.cfg un fichier de configuration pour le log central. </p></li><li class="listitem"><p> Lancer le MA avec son fichier de configuration sur le réseau network B : <span class="bold"><strong>dietAgent config.cf</strong></span>. Voir le paragraphe 6.3 pour un exemple de configuration. Ce fichier de configuration peut contenir les 3 lignes suivantes :
	    </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> 'traceLevel = 0' : Le niveau de verbosité du master agent, cette valeur peut être entre 0 et 10 compris. </p></li><li class="listitem"><p> 'agentType = DIET_MASTER_AGENT' : Le type de l'agent, l'autre type disponible est DIET_LOCAL_AGENT mais dans notre cas il faut DIET_MASTER_AGENT.</p></li><li class="listitem"><p> 'name = MA0' : Le nom que l'on veut donner à l'agent, dans notre exemple on va l'appeller MA0.</p></li></ul></div><p>
	  </p></li><li class="listitem"><p>Lancer le SeD, par exemple un UMS sur le réseau network C. Un exemple de commande de lancement est : <span class="bold"><strong>umssed ~/ums_sed.cfg</strong></span>. Se référer au chapitre de déploiement pour le contenu du fichier, c'est le même à utiliser que dans un déploiement sur un seul réseau.
	  </p></li><li class="listitem"><p>
	    Le module, ici UMS, de VISHNU est prêt à être utilisé. Pour ce faire, un client doit se connecter et soumettre des requêtes à VISHNU au moyen de clients UMS. Si le client est encore sur un autre réseau il faudra mettre la paire de dietForwarder entre le réseau client et l'un des réseaux connecté à la hierarchie déployée.
	  </p></li></ol></div></div><div class="section" title="Exemple de fichier de configuration d'un MA"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id373787"></a>Exemple de fichier de configuration d'un MA</h2></div></div></div><pre class="programlisting">
	traceLevel = 0
	name = MA0
	agentType = DIET_MASTER_AGENT
      </pre></div><div class="section" title="Exemple de fichier de configuration pour un SeD DIET"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id373798"></a>Exemple de fichier de configuration pour un SeD DIET</h2></div></div></div><pre class="programlisting">
	traceLevel = 0
	parentName = MA0
	useLogService = 1
      </pre></div><div class="section" title="Exemple de fichier de configuration d'un SeD UMS"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id373809"></a>Exemple de fichier de configuration d'un SeD UMS</h2></div></div></div><pre class="programlisting">
	# Configuration of the VISHNU UMS SeD
	dietConfigFile=/usr/local/etc/SeD.cfg
	vishnuId=1
	databaseType=postgresql
	databaseHost=localhost
	databaseName=vishnu
	databaseUserName=vishnu_user
	databaseUserPassword=vishnu_user
	databaseConnectionsNb=5
	sendmailScriptPath=/usr/local/sbin/sendmail.py
	vishnuMachineId=machine_1
      </pre></div><div class="section" title="Exemple de fichier de configuration d'un SeD TMS"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id373822"></a>Exemple de fichier de configuration d'un SeD TMS </h2></div></div></div><pre class="programlisting">
	# Configuration of the VISHNU TMS SeD
	dietConfigFile=/usr/local/etc/SeD.cfg
	vishnuId=1
	databaseType=postgresql
	databaseHost=localhost
	databaseName=vishnu
	databaseUserName=vishnu_user
	databaseUserPassword=vishnu_user
	databaseConnectionsNb=5
	sendmailScriptPath=/usr/local/sbin/sendmail.py
	vishnuMachineId=machine_1
	# Configuration propres à TMS
	# batchSchedulerType=SLURM si le batchScheduler est de type SLURM
  batchSchedulerType=TORQUE
	intervalMonitor = 1
      </pre></div><div class="section" title="Exemple de fichier d'un forwarder"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id373840"></a>Exemple de fichier d'un forwarder </h2></div></div></div><pre class="programlisting">
	# accept everything from everyone
	accept:.*

	# reject its own ip
	reject:192\.168\.1\.6
      </pre></div><div class="section" title="Exemple de fichier du LogCentral"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id373851"></a>Exemple de fichier du LogCentral </h2></div></div></div><pre class="programlisting">
	# an empty configuration file for LogService
	[General]
	
	[DynamicTagList]
	[StaticTagList]
	[UniqueTagList]
	[VolatileTagList]
      </pre></div><div class="section" title="Configuration de l'envoi des emails par VISHNU"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id373863"></a>Configuration de l'envoi des emails par VISHNU</h2></div></div></div><p>Le processus UMS SeD utilise le fichier 'sendmail.py' (fourni dans l'installation VISHNU, dans le sous-répertoire sbin/)
	pour envoyer des emails aux utilisateurs lors de certaines opérations. Ce fichier peut être modifié par l'administrateur afin
	de s'adapter à la méthode d'envoi d'email propre au serveur sur lequel est installé le SeD. Par défaut, la configuration
	fournie se connecte sur le serveur SMTP de 'localhost' sur le port 25, sans authentification.</p><p>Les paramètres suivants peuvent être configurés dans le script sendmail.py :</p><div class="informaltable"><table border="1"><colgroup><col width="2cm" /><col width="15cm" /></colgroup><thead><tr><th>Option</th><th>Ligne du script sendmail.py à modifier</th></tr></thead><tbody><tr><td><p>login</p></td><td><pre class="programlisting">parser.add_option("--login", dest="login", help="", default="[login_utilisateur]")</pre></td></tr><tr><td><p>password</p></td><td><pre class="programlisting">parser.add_option("--password", dest="password", help="smtp password", default="[password_utilisateur]")</pre></td></tr><tr><td><p>hostname</p></td><td><pre class="programlisting">parser.add_option("--hostname", dest="host", help="smtp host", default="[nom_serveur_SMTP]")</pre></td></tr><tr><td><p>port</p></td><td><pre class="programlisting">parser.add_option("--port", dest="port", help="smtp port [default: 25]", type=int, default="[no_port]")</pre></td></tr><tr><td><p>SSL</p></td><td><pre class="programlisting">parser.add_option("--ssl", action="store_true", dest="use_ssl", help="enable ssl support [default: %default - default port: 587
		  ]", default=True)</pre></td></tr></tbody></table></div></div><div class="section" title="Test d'exécution d'un service depuis une machine client par shell"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id373989"></a>Test d'exécution d'un service depuis une machine client par shell</h2></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
	    Une fois que la plateforme a été installée, se mettre sur un poste client avec VISHNU d'installé. Se référer au document [VISHNU_USERMANUAL]
	    pour l'installation de la partie client.
	  </p></li><li class="listitem"><p>
	    Exporter la variable d'environnement VISHNU_CONFIG_FILE dans un script de configuration client. Se référer
	    au guide d'installation du client [VISHNU_USER_GUIDE] pour connaître le contenu d'un fichier client.
	  </p></li><li class="listitem"><p>
	    Lancer la commande dans le shell 'vishnu_connect user', ou user représente un nom d'utilisateur dans la base de données vishnu
	  </p></li><li class="listitem"><p>
	    Taper le mot de passe associé correspondant à l'utilisateur 'user'
	  </p></li><li class="listitem"><p>
	    Sur le client, un affichage doit signaler que le service a réussi. Dans le terminal ou le SeD UMS a été lancé et dans le terminal ou le MA tourne, selon le niveau de verbosité, plus ou moins d'informations, concernant le service effectué, doivent apparaitre. Le message affiché contient au moins une ligne similaire :
	    <span class="bold"><strong>sessionId: root-2011-Jul-11-14:22:14.403491:86690</strong></span>, qui indique l'identifiant de la session ouverte.
	  </p></li><li class="listitem"><p>
	    Fermer la session avec 'vishnu_close'. Aucune erreur ne doit être remontée lors de ces tests.
	  </p></li></ol></div></div></div><div class="chapter" title="Chapter 7. Administration"><div class="titlepage"><div><div><h2 class="title"><a id="id374064"></a>Chapter 7. Administration</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="#id374070">Présentation</a></span></dt><dt><span class="section"><a href="#id374086">Gestion des utilisateurs (UMS)</a></span></dt><dt><span class="section"><a href="#id374157">Gestion des machines (UMS)</a></span></dt><dt><span class="section"><a href="#id374217">Gestion de la plateforme (UMS)</a></span></dt><dt><span class="section"><a href="#id374262">Options propres à l'administrateur dans les commandes utilisateurs(UMS)</a></span></dt></dl></div><div class="section" title="Présentation"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id374070"></a>Présentation</h2></div></div></div><p>
	Le module UMS correspond à la gestion des utilisateurs et des machines de VISHNU. Il permet aussi de sauvegarder la configuration de VISHNU à chaud et de la restaurer si besoin est.
	Dans toute la suite du chapitre, on supposera que l'utilisateur est déjà connecté avec un compte administrateur de VISHNU pour pouvoir réaliser ces manipulations. De plus, on présentera l'utilisation des commandes depuis le shell, mais cela reste valable depuis les API Python ou C++.
      </p></div><div class="section" title="Gestion des utilisateurs (UMS)"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id374086"></a>Gestion des utilisateurs (UMS)</h2></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
	    L'ajout d'un utilisateur se fait à l'aide de la commande 'vishnu_add_user'. Elle prend en paramètre le prénom de l'utilisateur, son nom de famille, les droits qui lui sont associés dans VISHNU (administrateur ou simple utilisateur) et son adresse de couriel. Tout ces paramètres sont obligatoires. Un privilège à 1 signifie administrateur, un privilège à 0 signifie un utilisateur. L'identifiant de l'utilisateur est généré et renvoyé.
	  </p></li><li class="listitem"><p>
	    La mise à jour d'un utilisateur ne peut être faite que par un administrateur. Cette mise à jour se fait avec un appel à la commande 'vishnu_update_user' et permet de modifier les paramètres de l'ajout (nom, prénom, statut, couriel).
	    Il faut avoir l'identifiant de l'utilisateur (généré lors de la création de l'utilisateur) pour le désigner lors de la mise à jour.
	  </p><p>Note : le changement du statut d'un utilisateur à l'état "INACTIVE" correspond à un blocage de son compte.</p></li><li class="listitem"><p>
	    La suppression d'un utilisateur efface toutes les informations liées à l'utilisateur de la base de donnée. Cette suppression se fait à l'aide de la commande 'vishnu_delete_user'.
	  </p></li><li class="listitem"><p>
	    La liste des utilisateurs ne peut être faite que par un administrateur. Cela se fait avec la commande 'vishnu_list_user'. Cette commande peut prendre en paramètre l'identifiant d'un utilisateur pour n'avoir les informations que concernant cet utilisateur.
	  </p></li><li class="listitem"><p>
	    Seul un administrateur peut réinitialiser le mot de passe d'un utilisateur de VISHNU. Pour ce faire, il doit appeller la commande 'vishnu_reset_password'  en fournissant l'identifiant de l'utilisateur dont l'administrateur veut réinitialiser le mot de passe. Le nouveau mot de passe est temporaire et renvoyé par la commande. Lors de la prochaine connexion, l'utilisateur devra changer son mot de passe avec 'vishnu_change_password'.
	  </p></li></ol></div></div><div class="section" title="Gestion des machines (UMS)"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id374157"></a>Gestion des machines (UMS)</h2></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>L'ajout d'une machine se fait à l'aide de la commande 'vishnu_add_machine'. Cette commande prend en paramètre le nom de la machine, le site ou elle se trouve, le language de la description qui sera donnée pour la machine, le fichier contenant la clé publique et la description. Ces paramètres sont obligatoires, en passant par le shell, la description n'a pas besoin d'être fournie en paramètre mais elle est alors demandée à l'administrateur avant d'ajouter la machine. A la fin de l'ajout, l'identifiant généré pour la machine est renvoyé.</p></li><li class="listitem"><p>
	    La mise à jour d'une machine se fait à l'aide de la commande 'vishnu_update_machine' et permet de modifier les paramètres mis lors de l'ajout de la machine. Il faut utiliser l'identifiant de la machine pour l'identifier lors de la mise à jour.
	  </p><p>Note : le changement du statut d'une machine à l'état "INACTIVE" correspond à un blocage de la machine. Cela rend la machine inaccessible aux utilisateurs de VISHNU mais toujours visible pour les administrateurs.</p></li><li class="listitem"><p>
	    La suppression d'une machine se fait à l'aide de la commande 'vishnu_delete_machine' avec l'identifiant de la machine à supprimer. Cela supprime la machine de la base de données, ainsi que toutes les informations qui y sont attachées (Attention : cette commande est irréversible).
	  </p></li><li class="listitem"><p>
	    Les utilisateurs peuvent lister les machines, mais un administrateur a en plus une option qui est l'identifiant d'un utilisateur. Ceci lui permet de lister les machines sur lesquelles l'utilisateur a un compte VISHNU.
	  </p></li></ol></div></div><div class="section" title="Gestion de la plateforme (UMS)"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id374217"></a>Gestion de la plateforme (UMS)</h2></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
	    L'administrateur peut faire une sauvegarde à chaud à un moment donné de VISHNU. Ceci sauvegarde les utilisateurs, les machines et les comptes des utilisateurs. Le fichier, dans lequel la configuration est, est retourné par la fonction. La fonction est 'vishnu_save_configuration', pas besoin de paramètres.
	  </p></li><li class="listitem"><p>
	    L'administrateur peut recharger une configuration précédente de VISHNU à l'aide de la commande 'vishnu_restore_configuration' qui a besoin du fichier de sauvegarde pour recharger la base.
	    Avant de pouvoir lancer cette restauration, tous les utilisateurs de VISHNU doivent être déconnectés.
	  </p></li><li class="listitem"><p>
	    Un administrateur peut également définir les valeurs par défaut des options de VISHNU pour tout les utilisateurs (ces options sont le temps de déconnexion par défaut et le type de fermeture d'une session par défaut). Cela se fait en appellant 'vishnu_configure_default_option' en donnant le nom de l'option et sa nouvelle valeur.
	  </p></li></ol></div></div><div class="section" title="Options propres à l'administrateur dans les commandes utilisateurs(UMS)"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id374262"></a>Options propres à l'administrateur dans les commandes utilisateurs(UMS)</h2></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Dans la fonction 'vishnu_connect', un administrateur peut donner l'identifiant d'un utilisateur pour se connecter sous le nom de cet utilisateur dans VISHNU.</p></li><li class="listitem"><p>
	    Dans la fonction 'vishnu_list_history_cmd', l'administrateur peut lister toutes les commandes de tout les utilisateurs ou les commandes d'un utilisateur en particulier en fournissant l'identifiant de l'utilisateur.
	  </p></li><li class="listitem"><p>
	    Dans la fonction 'vishnu_list_local_accounts', l'administrateur peut lister toutes les comptes de tout les utilisateurs ou les comptes d'un utilisateur particulier en fournissant l'identifiant de l'utilisateur.
	  </p></li><li class="listitem"><p>
	    Dans la fonction 'vishnu_list_options', l'administrateur peut lister les toutes les options de tout les utilisateurs ou les options d'un utilisateur en particulier en fournissant l'identifiant de l'utilisateur.
	  </p></li><li class="listitem"><p>
	    Dans la fonction 'vishnu_list_sessions', l'administrateur peut lister les toutes les sessions de tous les utilisateurs ou les sessions d'un utilisateur en particulier en fournissant l'identifiant de l'utilisateur, ou les sessions sur une machine particulière en fournissant l'identifiant de la machine.
	  </p></li></ol></div></div></div><div class="reference" title="UMS Command reference"><div class="titlepage"><div><div><h1 class="title"><a id="id374319"></a>UMS Command reference</h1></div></div><hr /></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="refentrytitle"><a href="#id374325">vishnu_add_user</a></span><span class="refpurpose"> — adds a new VISHNU user</span></dt><dt><span class="refentrytitle"><a href="#id374545">vishnu_update_user</a></span><span class="refpurpose"> — updates the user information except the userId and the password</span></dt><dt><span class="refentrytitle"><a href="#id374871">vishnu_delete_user</a></span><span class="refpurpose"> — removes a user from VISHNU</span></dt><dt><span class="refentrytitle"><a href="#id375054">vishnu_reset_password</a></span><span class="refpurpose"> — resets the password of a user</span></dt><dt><span class="refentrytitle"><a href="#id375237">vishnu_save_configuration</a></span><span class="refpurpose"> — saves the configuration of VISHNU</span></dt><dt><span class="refentrytitle"><a href="#id375388">vishnu_restore_configuration</a></span><span class="refpurpose"> — restores the configuration of VISHNU</span></dt><dt><span class="refentrytitle"><a href="#id375548">vishnu_add_machine</a></span><span class="refpurpose"> — adds a new machine in VISHNU</span></dt><dt><span class="refentrytitle"><a href="#id375756">vishnu_update_machine</a></span><span class="refpurpose"> — updates machine description</span></dt><dt><span class="refentrytitle"><a href="#id376086">vishnu_delete_machine</a></span><span class="refpurpose"> — removes a machine from VISHNU</span></dt><dt><span class="refentrytitle"><a href="#id376260">vishnu_list_users</a></span><span class="refpurpose"> — lists VISHNU users</span></dt><dt><span class="refentrytitle"><a href="#id376452">vishnu_configure_default_option</a></span><span class="refpurpose"> — configures a default option value</span></dt></dl></div><div class="refentry" title="vishnu_add_user"><a id="id374325"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>vishnu_add_user — adds a new VISHNU user</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="cmdsynopsis"><p><code class="command">vishnu_add_user</code>  [<code class="option">-h</code>]  <em class="replaceable"><code>firstname</code></em>   <em class="replaceable"><code>lastname</code></em>   <em class="replaceable"><code>privilege</code></em>   <em class="replaceable"><code>email</code></em> </p></div></div><div class="refsect1" title="DESCRIPTION"><a id="description"></a><h2>DESCRIPTION</h2><p>This command allows an admin to add a new user in VISHNU. 
Several user information are necessary such as: lastname, firtsname and email adress. 
The admin also gives a VISHNU privilege to the new user and a new userId 
and password are sent to the user by email.</p></div><div class="refsect1" title="OPTIONS"><a id="options"></a><h2>OPTIONS</h2><div class="variablelist"><dl><dt><span class="term"><code class="option">-h <em class="replaceable"><code>help</code></em></code></span></dt><dd><p>help about the command.</p></dd></dl></div></div><div class="refsect1" title="ENVIRONMENT"><a id="environment"></a><h2>ENVIRONMENT</h2><div class="variablelist"><dl><dt><span class="term"><code class="envar">VISHNU_CONFIG_FILE</code></span></dt><dd><p>Contains the path to the local configuration file for VISHNU.</p></dd></dl></div></div><div class="refsect1" title="DIAGNOSTICS"><a id="diagnostics"></a><h2>DIAGNOSTICS</h2><p>The following diagnostics may be issued on stderr and the command will return the code provided within brackets: </p><div class="variablelist"><dl><dt><span class="term">"There is no open session in this terminal" [10]</span></dt><dd></dd><dt><span class="term">"The userId already exists in the database" [22]</span></dt><dd></dd><dt><span class="term">"The user is locked" [23]</span></dt><dd></dd><dt><span class="term">"The user is not an administrator" [25]</span></dt><dd></dd><dt><span class="term">"The mail adress is invalid" [27]</span></dt><dd></dd><dt><span class="term">"The session key is unrecognized" [28]</span></dt><dd></dd><dt><span class="term">"The sessionKey is expired. The session is closed." [29]</span></dt><dd></dd><dt><span class="term">"The machine is locked" [34]</span></dt><dd></dd></dl></div></div></div><div class="refentry" title="vishnu_update_user"><div class="refentry.separator"><hr /></div><a id="id374545"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>vishnu_update_user — updates the user information except the userId and the password</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="cmdsynopsis"><p><code class="command">vishnu_update_user</code>  [<code class="option">-h</code>] [<code class="option">-f <em class="replaceable"><code>firstname</code></em></code>] [<code class="option">-l <em class="replaceable"><code>lastname</code></em></code>] [<code class="option">-p <em class="replaceable"><code>privilege</code></em></code>] [<code class="option">-m <em class="replaceable"><code>email</code></em></code>] [<code class="option">-s <em class="replaceable"><code>status</code></em></code>]  <em class="replaceable"><code>userId</code></em> </p></div></div><div class="refsect1" title="DESCRIPTION"><a id="description"></a><h2>DESCRIPTION</h2><p>This command allows an admin to update a VISHNU user information or to lock a user.  When a user is locked, she/he can not uses VISHNU. However, it is not possible to change the privilege of another admin.</p></div><div class="refsect1" title="OPTIONS"><a id="options"></a><h2>OPTIONS</h2><div class="variablelist"><dl><dt><span class="term"><code class="option">-h <em class="replaceable"><code>help</code></em></code></span></dt><dd><p>help about the command.</p></dd><dt><span class="term"><code class="option">-f <em class="replaceable"><code>firstname</code></em></code></span></dt><dd><p>represents the updated firstname of the user.</p></dd><dt><span class="term"><code class="option">-l <em class="replaceable"><code>lastname</code></em></code></span></dt><dd><p>represents the updated lastname of the user.</p></dd><dt><span class="term"><code class="option">-p <em class="replaceable"><code>privilege</code></em></code></span></dt><dd><p>represents the updated privilege of the user.
The value must be an integer. Predefined values are: 0 (USER), 1 (ADMIN).</p></dd><dt><span class="term"><code class="option">-m <em class="replaceable"><code>email</code></em></code></span></dt><dd><p>represents the updated email adress of the user.</p></dd><dt><span class="term"><code class="option">-s <em class="replaceable"><code>status</code></em></code></span></dt><dd><p>represents the status of the user (LOCKED or ACTIVE).
The value must be an integer. Predefined values are: 0 (INACTIVE), 1 (ACTIVE).</p></dd></dl></div></div><div class="refsect1" title="ENVIRONMENT"><a id="environment"></a><h2>ENVIRONMENT</h2><div class="variablelist"><dl><dt><span class="term"><code class="envar">VISHNU_CONFIG_FILE</code></span></dt><dd><p>Contains the path to the local configuration file for VISHNU.</p></dd></dl></div></div><div class="refsect1" title="DIAGNOSTICS"><a id="diagnostics"></a><h2>DIAGNOSTICS</h2><p>The following diagnostics may be issued on stderr and the command will return the code provided within brackets: </p><div class="variablelist"><dl><dt><span class="term">"There is no open session in this terminal" [10]</span></dt><dd></dd><dt><span class="term">"The userId is unknown" [21]</span></dt><dd></dd><dt><span class="term">"The user is locked" [23]</span></dt><dd></dd><dt><span class="term">"Trying to lock a user account that is already locked" [24]</span></dt><dd></dd><dt><span class="term">"The user is not an administrator" [25]</span></dt><dd></dd><dt><span class="term">"The mail adress is invalid" [27]</span></dt><dd></dd><dt><span class="term">"The session key is unrecognized" [28]</span></dt><dd></dd><dt><span class="term">"The sessionKey is expired. The session is closed." [29]</span></dt><dd></dd></dl></div></div></div><div class="refentry" title="vishnu_delete_user"><div class="refentry.separator"><hr /></div><a id="id374871"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>vishnu_delete_user — removes a user from VISHNU</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="cmdsynopsis"><p><code class="command">vishnu_delete_user</code>  [<code class="option">-h</code>]  <em class="replaceable"><code>userId</code></em> </p></div></div><div class="refsect1" title="DESCRIPTION"><a id="description"></a><h2>DESCRIPTION</h2><p>This command allows an admin to delete a user from VISHNU. When a user is deleted from VISHNU all of her/his information are deleted from VISHNU. However, it is not possible to delete the VISHNU root user.</p></div><div class="refsect1" title="OPTIONS"><a id="options"></a><h2>OPTIONS</h2><div class="variablelist"><dl><dt><span class="term"><code class="option">-h <em class="replaceable"><code>help</code></em></code></span></dt><dd><p>help about the command.</p></dd></dl></div></div><div class="refsect1" title="ENVIRONMENT"><a id="environment"></a><h2>ENVIRONMENT</h2><div class="variablelist"><dl><dt><span class="term"><code class="envar">VISHNU_CONFIG_FILE</code></span></dt><dd><p>Contains the path to the local configuration file for VISHNU.</p></dd></dl></div></div><div class="refsect1" title="DIAGNOSTICS"><a id="diagnostics"></a><h2>DIAGNOSTICS</h2><p>The following diagnostics may be issued on stderr and the command will return the code provided within brackets: </p><div class="variablelist"><dl><dt><span class="term">"There is no open session in this terminal" [10]</span></dt><dd></dd><dt><span class="term">"The userId is unknown" [21]</span></dt><dd></dd><dt><span class="term">"The user is locked" [23]</span></dt><dd></dd><dt><span class="term">"The user is not an administrator" [25]</span></dt><dd></dd><dt><span class="term">"The session key is unrecognized" [28]</span></dt><dd></dd><dt><span class="term">"The sessionKey is expired. The session is closed." [29]</span></dt><dd></dd></dl></div></div></div><div class="refentry" title="vishnu_reset_password"><div class="refentry.separator"><hr /></div><a id="id375054"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>vishnu_reset_password — resets the password of a user</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="cmdsynopsis"><p><code class="command">vishnu_reset_password</code>  [<code class="option">-h</code>]  <em class="replaceable"><code>userId</code></em> </p></div></div><div class="refsect1" title="DESCRIPTION"><a id="description"></a><h2>DESCRIPTION</h2><p>This command allows an admin to reset the password of the user. The password generated is temporary and must be changed for using VISHNU.</p></div><div class="refsect1" title="OPTIONS"><a id="options"></a><h2>OPTIONS</h2><div class="variablelist"><dl><dt><span class="term"><code class="option">-h <em class="replaceable"><code>help</code></em></code></span></dt><dd><p>help about the command.</p></dd></dl></div></div><div class="refsect1" title="ENVIRONMENT"><a id="environment"></a><h2>ENVIRONMENT</h2><div class="variablelist"><dl><dt><span class="term"><code class="envar">VISHNU_CONFIG_FILE</code></span></dt><dd><p>Contains the path to the local configuration file for VISHNU.</p></dd></dl></div></div><div class="refsect1" title="DIAGNOSTICS"><a id="diagnostics"></a><h2>DIAGNOSTICS</h2><p>The following diagnostics may be issued on stderr and the command will return the code provided within brackets: </p><div class="variablelist"><dl><dt><span class="term">"There is no open session in this terminal" [10]</span></dt><dd></dd><dt><span class="term">"The userId is unknown" [21]</span></dt><dd></dd><dt><span class="term">"The user is locked" [23]</span></dt><dd></dd><dt><span class="term">"The user is not an administrator" [25]</span></dt><dd></dd><dt><span class="term">"The session key is unrecognized" [28]</span></dt><dd></dd><dt><span class="term">"The sessionKey is expired. The session is closed." [29]</span></dt><dd></dd></dl></div></div></div><div class="refentry" title="vishnu_save_configuration"><div class="refentry.separator"><hr /></div><a id="id375237"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>vishnu_save_configuration — saves the configuration of VISHNU</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="cmdsynopsis"><p><code class="command">vishnu_save_configuration</code>  [<code class="option">-h</code>]</p></div></div><div class="refsect1" title="DESCRIPTION"><a id="description"></a><h2>DESCRIPTION</h2><p>This commands allows an admin to save the VISHNU configuration. This configuration contains the list of users, the lists of machines and the list of local user configurations. It is saved on a xml format on a file registered on the directory $HOME/.vishnu/configurationSaved/.</p></div><div class="refsect1" title="OPTIONS"><a id="options"></a><h2>OPTIONS</h2><div class="variablelist"><dl><dt><span class="term"><code class="option">-h <em class="replaceable"><code>help</code></em></code></span></dt><dd><p>help about the command.</p></dd></dl></div></div><div class="refsect1" title="ENVIRONMENT"><a id="environment"></a><h2>ENVIRONMENT</h2><div class="variablelist"><dl><dt><span class="term"><code class="envar">VISHNU_CONFIG_FILE</code></span></dt><dd><p>Contains the path to the local configuration file for VISHNU.</p></dd></dl></div></div><div class="refsect1" title="DIAGNOSTICS"><a id="diagnostics"></a><h2>DIAGNOSTICS</h2><p>The following diagnostics may be issued on stderr and the command will return the code provided within brackets: </p><div class="variablelist"><dl><dt><span class="term">"There is no open session in this terminal" [10]</span></dt><dd></dd><dt><span class="term">"The user is not an administrator" [25]</span></dt><dd></dd><dt><span class="term">"A problem occurs during the configuration saving " [39]</span></dt><dd></dd></dl></div></div></div><div class="refentry" title="vishnu_restore_configuration"><div class="refentry.separator"><hr /></div><a id="id375388"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>vishnu_restore_configuration — restores the configuration of VISHNU</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="cmdsynopsis"><p><code class="command">vishnu_restore_configuration</code>  [<code class="option">-h</code>]  <em class="replaceable"><code>filePath</code></em> </p></div></div><div class="refsect1" title="DESCRIPTION"><a id="description"></a><h2>DESCRIPTION</h2><p>This function must be used carefully as it replaces all the content of the VISHNU central database
with the information stored in the provided file. This file contains the list of users, the lists of machines 
and the list of local user configurations. It can be created using the 
vishnu_save_configuration command.
The "root" VISHNU user is the only user authorized to call this function, and this action must be done
without any other user connected to VISHNU.
After restoring, the vishnu database is re-initialized.</p></div><div class="refsect1" title="OPTIONS"><a id="options"></a><h2>OPTIONS</h2><div class="variablelist"><dl><dt><span class="term"><code class="option">-h <em class="replaceable"><code>help</code></em></code></span></dt><dd><p>help about the command.</p></dd></dl></div></div><div class="refsect1" title="ENVIRONMENT"><a id="environment"></a><h2>ENVIRONMENT</h2><div class="variablelist"><dl><dt><span class="term"><code class="envar">VISHNU_CONFIG_FILE</code></span></dt><dd><p>Contains the path to the local configuration file for VISHNU.</p></dd></dl></div></div><div class="refsect1" title="DIAGNOSTICS"><a id="diagnostics"></a><h2>DIAGNOSTICS</h2><p>The following diagnostics may be issued on stderr and the command will return the code provided within brackets: </p><div class="variablelist"><dl><dt><span class="term">"There is no open session in this terminal" [10]</span></dt><dd></dd><dt><span class="term">"The user is not an administrator" [25]</span></dt><dd></dd><dt><span class="term">"A problem occurs during the configuration restoring" [40]</span></dt><dd></dd></dl></div></div></div><div class="refentry" title="vishnu_add_machine"><div class="refentry.separator"><hr /></div><a id="id375548"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>vishnu_add_machine — adds a new machine in VISHNU</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="cmdsynopsis"><p><code class="command">vishnu_add_machine</code>  [<code class="option">-h</code>]  <em class="replaceable"><code>name</code></em>   <em class="replaceable"><code>site</code></em>   <em class="replaceable"><code>language</code></em>   <em class="replaceable"><code>sshPublicKeyFile</code></em>   <em class="replaceable"><code>machineDescription</code></em> </p></div></div><div class="refsect1" title="DESCRIPTION"><a id="description"></a><h2>DESCRIPTION</h2><p>This command allows an admin to add a new machine in VISHNU.
Several machine information are mandatory such as: name, site, language
and the public ssh key of the VISHNU system account on the machine. This
public key will be provided automatically to all new VISHNU users who will
have to add it to the authorized keys of their own account on the machine.</p></div><div class="refsect1" title="OPTIONS"><a id="options"></a><h2>OPTIONS</h2><div class="variablelist"><dl><dt><span class="term"><code class="option">-h <em class="replaceable"><code>help</code></em></code></span></dt><dd><p>help about the command.</p></dd></dl></div></div><div class="refsect1" title="ENVIRONMENT"><a id="environment"></a><h2>ENVIRONMENT</h2><div class="variablelist"><dl><dt><span class="term"><code class="envar">VISHNU_CONFIG_FILE</code></span></dt><dd><p>Contains the path to the local configuration file for VISHNU.</p></dd></dl></div></div><div class="refsect1" title="DIAGNOSTICS"><a id="diagnostics"></a><h2>DIAGNOSTICS</h2><p>The following diagnostics may be issued on stderr and the command will return the code provided within brackets: </p><div class="variablelist"><dl><dt><span class="term">"There is no open session in this terminal" [10]</span></dt><dd></dd><dt><span class="term">"The user is not an administrator" [25]</span></dt><dd></dd><dt><span class="term">"The session key is unrecognized" [28]</span></dt><dd></dd><dt><span class="term">"The sessionKey is expired. The session is closed." [29]</span></dt><dd></dd><dt><span class="term">"The machineId already exists in the database" [33]</span></dt><dd></dd><dt><span class="term">"The closure policy is unknown" [42]</span></dt><dd></dd></dl></div></div></div><div class="refentry" title="vishnu_update_machine"><div class="refentry.separator"><hr /></div><a id="id375756"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>vishnu_update_machine — updates machine description</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="cmdsynopsis"><p><code class="command">vishnu_update_machine</code>  [<code class="option">-h</code>] [<code class="option">-n <em class="replaceable"><code>name</code></em></code>] [<code class="option">-s <em class="replaceable"><code>site</code></em></code>] [<code class="option">-d <em class="replaceable"><code>machineDescription</code></em></code>] [<code class="option">-l <em class="replaceable"><code>language</code></em></code>] [<code class="option">-t <em class="replaceable"><code>status</code></em></code>] [<code class="option">-k <em class="replaceable"><code>sshPublicKeyFile</code></em></code>]  <em class="replaceable"><code>machineId</code></em> </p></div></div><div class="refsect1" title="DESCRIPTION"><a id="description"></a><h2>DESCRIPTION</h2><p>This command allows an admin to update a  VISHNU machine or to locked it. A machine locked is not usable.</p></div><div class="refsect1" title="OPTIONS"><a id="options"></a><h2>OPTIONS</h2><div class="variablelist"><dl><dt><span class="term"><code class="option">-h <em class="replaceable"><code>help</code></em></code></span></dt><dd><p>help about the command.</p></dd><dt><span class="term"><code class="option">-n <em class="replaceable"><code>name</code></em></code></span></dt><dd><p>represents the name of the machine.</p></dd><dt><span class="term"><code class="option">-s <em class="replaceable"><code>site</code></em></code></span></dt><dd><p>represents the location of the machine.</p></dd><dt><span class="term"><code class="option">-d <em class="replaceable"><code>machineDescription</code></em></code></span></dt><dd><p>represents the description of the machine.</p></dd><dt><span class="term"><code class="option">-l <em class="replaceable"><code>language</code></em></code></span></dt><dd><p>represents the language used for the description of the machine.</p></dd><dt><span class="term"><code class="option">-t <em class="replaceable"><code>status</code></em></code></span></dt><dd><p>represents the status of the machine.
The value must be an integer. Predefined values are: 0 (INACTIVE), 1 (ACTIVE).</p></dd><dt><span class="term"><code class="option">-k <em class="replaceable"><code>sshPublicKeyFile</code></em></code></span></dt><dd><p>contains the path to the SSH public key used by VISHNU to access local user accounts.</p></dd></dl></div></div><div class="refsect1" title="ENVIRONMENT"><a id="environment"></a><h2>ENVIRONMENT</h2><div class="variablelist"><dl><dt><span class="term"><code class="envar">VISHNU_CONFIG_FILE</code></span></dt><dd><p>Contains the path to the local configuration file for VISHNU.</p></dd></dl></div></div><div class="refsect1" title="DIAGNOSTICS"><a id="diagnostics"></a><h2>DIAGNOSTICS</h2><p>The following diagnostics may be issued on stderr and the command will return the code provided within brackets: </p><div class="variablelist"><dl><dt><span class="term">"There is no open session in this terminal" [10]</span></dt><dd></dd><dt><span class="term">"The user is not an administrator" [25]</span></dt><dd></dd><dt><span class="term">"The session key is unrecognized" [28]</span></dt><dd></dd><dt><span class="term">"The sessionKey is expired. The session is closed." [29]</span></dt><dd></dd><dt><span class="term">"The machine id is unknown" [32]</span></dt><dd></dd><dt><span class="term">"The closure policy is unknown" [42]</span></dt><dd></dd></dl></div></div></div><div class="refentry" title="vishnu_delete_machine"><div class="refentry.separator"><hr /></div><a id="id376086"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>vishnu_delete_machine — removes a machine from VISHNU</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="cmdsynopsis"><p><code class="command">vishnu_delete_machine</code>  [<code class="option">-h</code>]  <em class="replaceable"><code>machineId</code></em> </p></div></div><div class="refsect1" title="DESCRIPTION"><a id="description"></a><h2>DESCRIPTION</h2><p>This command allows an admin to delete a machine from VISHNU. When a machine is deleted all of its information are deleted from VISHNU.</p></div><div class="refsect1" title="OPTIONS"><a id="options"></a><h2>OPTIONS</h2><div class="variablelist"><dl><dt><span class="term"><code class="option">-h <em class="replaceable"><code>help</code></em></code></span></dt><dd><p>help about the command.</p></dd></dl></div></div><div class="refsect1" title="ENVIRONMENT"><a id="environment"></a><h2>ENVIRONMENT</h2><div class="variablelist"><dl><dt><span class="term"><code class="envar">VISHNU_CONFIG_FILE</code></span></dt><dd><p>Contains the path to the local configuration file for VISHNU.</p></dd></dl></div></div><div class="refsect1" title="DIAGNOSTICS"><a id="diagnostics"></a><h2>DIAGNOSTICS</h2><p>The following diagnostics may be issued on stderr and the command will return the code provided within brackets: </p><div class="variablelist"><dl><dt><span class="term">"There is no open session in this terminal" [10]</span></dt><dd></dd><dt><span class="term">"The user is not an administrator" [25]</span></dt><dd></dd><dt><span class="term">"The session key is unrecognized" [28]</span></dt><dd></dd><dt><span class="term">"The sessionKey is expired. The session is closed." [29]</span></dt><dd></dd><dt><span class="term">"The machine id is unknown" [32]</span></dt><dd></dd></dl></div></div></div><div class="refentry" title="vishnu_list_users"><div class="refentry.separator"><hr /></div><a id="id376260"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>vishnu_list_users — lists VISHNU users</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="cmdsynopsis"><p><code class="command">vishnu_list_users</code>  [<code class="option">-h</code>] [<code class="option">-i <em class="replaceable"><code>userIdOption</code></em></code>]</p></div></div><div class="refsect1" title="DESCRIPTION"><a id="description"></a><h2>DESCRIPTION</h2><p>This command allows an admin to display all users information except the passwords.</p></div><div class="refsect1" title="OPTIONS"><a id="options"></a><h2>OPTIONS</h2><div class="variablelist"><dl><dt><span class="term"><code class="option">-h <em class="replaceable"><code>help</code></em></code></span></dt><dd><p>help about the command.</p></dd><dt><span class="term"><code class="option">-i <em class="replaceable"><code>userIdOption</code></em></code></span></dt><dd><p>allows an admin to get information about a specific user identified by his/her userId.</p></dd></dl></div></div><div class="refsect1" title="ENVIRONMENT"><a id="environment"></a><h2>ENVIRONMENT</h2><div class="variablelist"><dl><dt><span class="term"><code class="envar">VISHNU_CONFIG_FILE</code></span></dt><dd><p>Contains the path to the local configuration file for VISHNU.</p></dd></dl></div></div><div class="refsect1" title="DIAGNOSTICS"><a id="diagnostics"></a><h2>DIAGNOSTICS</h2><p>The following diagnostics may be issued on stderr and the command will return the code provided within brackets: </p><div class="variablelist"><dl><dt><span class="term">"There is no open session in this terminal" [10]</span></dt><dd></dd><dt><span class="term">"The userId is unknown" [21]</span></dt><dd></dd><dt><span class="term">"The user is not an administrator" [25]</span></dt><dd></dd><dt><span class="term">"The session key is unrecognized" [28]</span></dt><dd></dd><dt><span class="term">"The sessionKey is expired. The session is closed." [29]</span></dt><dd></dd></dl></div></div></div><div class="refentry" title="vishnu_configure_default_option"><div class="refentry.separator"><hr /></div><a id="id376452"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>vishnu_configure_default_option — configures a default option value</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="cmdsynopsis"><p><code class="command">vishnu_configure_default_option</code>  [<code class="option">-h</code>]  <em class="replaceable"><code>optionName</code></em>   <em class="replaceable"><code>value</code></em> </p></div></div><div class="refsect1" title="DESCRIPTION"><a id="description"></a><h2>DESCRIPTION</h2><p>Options in VISHNU corresponds to parameters of some VISHNU commands 
(e.g. the close policy for vishnu_connect)
that can be preset in the user configuration stored by the VISHNU system.
This command allows an administrator to configure the default value of an option;
this is the value that will be applied when the user has no configuration defined for
that option using the vishnu_configure_option command.</p></div><div class="refsect1" title="OPTIONS"><a id="options"></a><h2>OPTIONS</h2><div class="variablelist"><dl><dt><span class="term"><code class="option">-h <em class="replaceable"><code>help</code></em></code></span></dt><dd><p>help about the command.</p></dd></dl></div></div><div class="refsect1" title="ENVIRONMENT"><a id="environment"></a><h2>ENVIRONMENT</h2><div class="variablelist"><dl><dt><span class="term"><code class="envar">VISHNU_CONFIG_FILE</code></span></dt><dd><p>Contains the path to the local configuration file for VISHNU.</p></dd></dl></div></div><div class="refsect1" title="DIAGNOSTICS"><a id="diagnostics"></a><h2>DIAGNOSTICS</h2><p>The following diagnostics may be issued on stderr and the command will return the code provided within brackets: </p><div class="variablelist"><dl><dt><span class="term">"There is no open session in this terminal" [10]</span></dt><dd></dd><dt><span class="term">"The user is not an administrator" [25]</span></dt><dd></dd><dt><span class="term">"The session key is unrecognized" [28]</span></dt><dd></dd><dt><span class="term">"The sessionKey is expired. The session is closed." [29]</span></dt><dd></dd><dt><span class="term">"The name of the user option is unknown" [41]</span></dt><dd></dd><dt><span class="term">"The value of the timeout is incorrect" [43]</span></dt><dd></dd><dt><span class="term">"The value of the transfer command is incorrect" [44]</span></dt><dd></dd></dl></div></div></div></div><div class="reference" title="UMS C++ API Reference"><div class="titlepage"><div><div><h1 class="title"><a id="id376654"></a>UMS C++ API Reference</h1></div></div><hr /></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="refentrytitle"><a href="#id376660">addUser</a></span><span class="refpurpose"> — adds a new VISHNU user</span></dt><dt><span class="refentrytitle"><a href="#id376888">updateUser</a></span><span class="refpurpose"> — updates the user information except the userId and the password</span></dt><dt><span class="refentrytitle"><a href="#id377115">deleteUser</a></span><span class="refpurpose"> — removes a user from VISHNU</span></dt><dt><span class="refentrytitle"><a href="#id377324">resetPassword</a></span><span class="refpurpose"> — resets the password of a user</span></dt><dt><span class="refentrytitle"><a href="#id377552">saveConfiguration</a></span><span class="refpurpose"> — saves the configuration of VISHNU</span></dt><dt><span class="refentrytitle"><a href="#id377734">restoreConfiguration</a></span><span class="refpurpose"> — restores the configuration of VISHNU</span></dt><dt><span class="refentrytitle"><a href="#id377920">addMachine</a></span><span class="refpurpose"> — adds a new machine in VISHNU</span></dt><dt><span class="refentrytitle"><a href="#id378131">updateMachine</a></span><span class="refpurpose"> — updates machine description</span></dt><dt><span class="refentrytitle"><a href="#id378339">deleteMachine</a></span><span class="refpurpose"> — removes a machine from VISHNU</span></dt><dt><span class="refentrytitle"><a href="#id378538">listUsers</a></span><span class="refpurpose"> — lists VISHNU users</span></dt><dt><span class="refentrytitle"><a href="#id378757">configureDefaultOption</a></span><span class="refpurpose"> — configures a default option value</span></dt></dl></div><div class="refentry" title="addUser"><a id="id376660"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>addUser — adds a new VISHNU user</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">int <b class="fsfunc">vishnu::addUser</b>(</code></td><td><var class="pdparam">sessionKey</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">newUser</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>const string&amp; <var class="pdparam">sessionKey</var></code>;<br /><code>User&amp; <var class="pdparam">newUser</var></code>;</div><div class="funcprototype-spacer"> </div></div></div><div class="refsect1" title="DESCRIPTION"><a id="description"></a><h2>DESCRIPTION</h2><p>This command allows an admin to add a new user in VISHNU. 
Several user information are necessary such as: lastname, firtsname and email adress. 
The admin also gives a VISHNU privilege to the new user and a new userId 
and password are sent to the user by email.</p></div><div class="refsect1" title="ARGUMENTS"><a id="arguments"></a><h2>ARGUMENTS</h2><div class="variablelist"><dl><dt><span class="term"><span class="emphasis"><em>sessionKey</em></span></span></dt><dd><p>Input argument. The sessionKey is the encrypted identifier of the session generated by VISHNU.</p></dd><dt><span class="term"><span class="emphasis"><em>newUser</em></span></span></dt><dd><p>Input/Output argument. Object containing the new user information.</p></dd></dl></div></div><div class="refsect1" title="EXCEPTIONS"><a id="exceptions"></a><h2>EXCEPTIONS</h2><p>The following exceptions may be thrown: </p><div class="variablelist"><dl><dt><span class="term">"Vishnu not available (Service bus failure)" [1]</span></dt><dd></dd><dt><span class="term">"Vishnu not available (Database error)" [2]</span></dt><dd></dd><dt><span class="term">"Vishnu not available (Database connection)" [3]</span></dt><dd></dd><dt><span class="term">"Vishnu not available (System)" [4]</span></dt><dd></dd><dt><span class="term">"Internal Error: Undefined exception" [9]</span></dt><dd></dd><dt><span class="term">"The userId already exists in the database" [22]</span></dt><dd></dd><dt><span class="term">"The user is locked" [23]</span></dt><dd></dd><dt><span class="term">"The user is not an administrator" [25]</span></dt><dd></dd><dt><span class="term">"The mail adress is invalid" [27]</span></dt><dd></dd><dt><span class="term">"The session key is unrecognized" [28]</span></dt><dd></dd><dt><span class="term">"The sessionKey is expired. The session is closed." [29]</span></dt><dd></dd><dt><span class="term">"The machine is locked" [34]</span></dt><dd></dd></dl></div></div></div><div class="refentry" title="updateUser"><div class="refentry.separator"><hr /></div><a id="id376888"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>updateUser — updates the user information except the userId and the password</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">int <b class="fsfunc">vishnu::updateUser</b>(</code></td><td><var class="pdparam">sessionKey</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">user</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>const string&amp; <var class="pdparam">sessionKey</var></code>;<br /><code>const User&amp; <var class="pdparam">user</var></code>;</div><div class="funcprototype-spacer"> </div></div></div><div class="refsect1" title="DESCRIPTION"><a id="description"></a><h2>DESCRIPTION</h2><p>This command allows an admin to update a VISHNU user information or to lock a user.  When a user is locked, she/he can not uses VISHNU. However, it is not possible to change the privilege of another admin.</p></div><div class="refsect1" title="ARGUMENTS"><a id="arguments"></a><h2>ARGUMENTS</h2><div class="variablelist"><dl><dt><span class="term"><span class="emphasis"><em>sessionKey</em></span></span></dt><dd><p>Input argument. The sessionKey is the encrypted identifier of the session generated by VISHNU.</p></dd><dt><span class="term"><span class="emphasis"><em>user</em></span></span></dt><dd><p>Input argument. Object containing user information.</p></dd></dl></div></div><div class="refsect1" title="EXCEPTIONS"><a id="exceptions"></a><h2>EXCEPTIONS</h2><p>The following exceptions may be thrown: </p><div class="variablelist"><dl><dt><span class="term">"Vishnu not available (Service bus failure)" [1]</span></dt><dd></dd><dt><span class="term">"Vishnu not available (Database error)" [2]</span></dt><dd></dd><dt><span class="term">"Vishnu not available (Database connection)" [3]</span></dt><dd></dd><dt><span class="term">"Vishnu not available (System)" [4]</span></dt><dd></dd><dt><span class="term">"Internal Error: Undefined exception" [9]</span></dt><dd></dd><dt><span class="term">"The userId is unknown" [21]</span></dt><dd></dd><dt><span class="term">"The user is locked" [23]</span></dt><dd></dd><dt><span class="term">"Trying to lock a user account that is already locked" [24]</span></dt><dd></dd><dt><span class="term">"The user is not an administrator" [25]</span></dt><dd></dd><dt><span class="term">"The mail adress is invalid" [27]</span></dt><dd></dd><dt><span class="term">"The session key is unrecognized" [28]</span></dt><dd></dd><dt><span class="term">"The sessionKey is expired. The session is closed." [29]</span></dt><dd></dd></dl></div></div></div><div class="refentry" title="deleteUser"><div class="refentry.separator"><hr /></div><a id="id377115"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>deleteUser — removes a user from VISHNU</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">int <b class="fsfunc">vishnu::deleteUser</b>(</code></td><td><var class="pdparam">sessionKey</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">userId</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>const string&amp; <var class="pdparam">sessionKey</var></code>;<br /><code>const string&amp; <var class="pdparam">userId</var></code>;</div><div class="funcprototype-spacer"> </div></div></div><div class="refsect1" title="DESCRIPTION"><a id="description"></a><h2>DESCRIPTION</h2><p>This command allows an admin to delete a user from VISHNU. When a user is deleted from VISHNU all of her/his information are deleted from VISHNU. However, it is not possible to delete the VISHNU root user.</p></div><div class="refsect1" title="ARGUMENTS"><a id="arguments"></a><h2>ARGUMENTS</h2><div class="variablelist"><dl><dt><span class="term"><span class="emphasis"><em>sessionKey</em></span></span></dt><dd><p>Input argument. The sessionKey is the encrypted identifier of the session generated by VISHNU.</p></dd><dt><span class="term"><span class="emphasis"><em>userId</em></span></span></dt><dd><p>Input argument. UserId represents the VISHNU user identifier of the user who will be deleted from VISHNU.</p></dd></dl></div></div><div class="refsect1" title="EXCEPTIONS"><a id="exceptions"></a><h2>EXCEPTIONS</h2><p>The following exceptions may be thrown: </p><div class="variablelist"><dl><dt><span class="term">"Vishnu not available (Service bus failure)" [1]</span></dt><dd></dd><dt><span class="term">"Vishnu not available (Database error)" [2]</span></dt><dd></dd><dt><span class="term">"Vishnu not available (Database connection)" [3]</span></dt><dd></dd><dt><span class="term">"Vishnu not available (System)" [4]</span></dt><dd></dd><dt><span class="term">"Internal Error: Undefined exception" [9]</span></dt><dd></dd><dt><span class="term">"The userId is unknown" [21]</span></dt><dd></dd><dt><span class="term">"The user is locked" [23]</span></dt><dd></dd><dt><span class="term">"The user is not an administrator" [25]</span></dt><dd></dd><dt><span class="term">"The session key is unrecognized" [28]</span></dt><dd></dd><dt><span class="term">"The sessionKey is expired. The session is closed." [29]</span></dt><dd></dd></dl></div></div></div><div class="refentry" title="resetPassword"><div class="refentry.separator"><hr /></div><a id="id377324"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>resetPassword — resets the password of a user</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">int <b class="fsfunc">vishnu::resetPassword</b>(</code></td><td><var class="pdparam">sessionKey</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">userId</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">tmpPassword</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>const string&amp; <var class="pdparam">sessionKey</var></code>;<br /><code>const string&amp; <var class="pdparam">userId</var></code>;<br /><code>string&amp; <var class="pdparam">tmpPassword</var></code>;</div><div class="funcprototype-spacer"> </div></div></div><div class="refsect1" title="DESCRIPTION"><a id="description"></a><h2>DESCRIPTION</h2><p>This command allows an admin to reset the password of the user. The password generated is temporary and must be changed for using VISHNU.</p></div><div class="refsect1" title="ARGUMENTS"><a id="arguments"></a><h2>ARGUMENTS</h2><div class="variablelist"><dl><dt><span class="term"><span class="emphasis"><em>sessionKey</em></span></span></dt><dd><p>Input argument. The sessionKey is the encrypted identifier of the session generated by VISHNU.</p></dd><dt><span class="term"><span class="emphasis"><em>userId</em></span></span></dt><dd><p>Input argument. UserId represents the VISHNU user identifier of the user whose password will be reset.</p></dd><dt><span class="term"><span class="emphasis"><em>tmpPassword</em></span></span></dt><dd><p>Output argument. The temporary password generated by VISHNU.</p></dd></dl></div></div><div class="refsect1" title="EXCEPTIONS"><a id="exceptions"></a><h2>EXCEPTIONS</h2><p>The following exceptions may be thrown: </p><div class="variablelist"><dl><dt><span class="term">"Vishnu not available (Service bus failure)" [1]</span></dt><dd></dd><dt><span class="term">"Vishnu not available (Database error)" [2]</span></dt><dd></dd><dt><span class="term">"Vishnu not available (Database connection)" [3]</span></dt><dd></dd><dt><span class="term">"Vishnu not available (System)" [4]</span></dt><dd></dd><dt><span class="term">"Internal Error: Undefined exception" [9]</span></dt><dd></dd><dt><span class="term">"The userId is unknown" [21]</span></dt><dd></dd><dt><span class="term">"The user is locked" [23]</span></dt><dd></dd><dt><span class="term">"The user is not an administrator" [25]</span></dt><dd></dd><dt><span class="term">"The session key is unrecognized" [28]</span></dt><dd></dd><dt><span class="term">"The sessionKey is expired. The session is closed." [29]</span></dt><dd></dd></dl></div></div></div><div class="refentry" title="saveConfiguration"><div class="refentry.separator"><hr /></div><a id="id377552"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>saveConfiguration — saves the configuration of VISHNU</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">int <b class="fsfunc">vishnu::saveConfiguration</b>(</code></td><td><var class="pdparam">sessionKey</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">configuration</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>const string&amp; <var class="pdparam">sessionKey</var></code>;<br /><code>Configuration&amp; <var class="pdparam">configuration</var></code>;</div><div class="funcprototype-spacer"> </div></div></div><div class="refsect1" title="DESCRIPTION"><a id="description"></a><h2>DESCRIPTION</h2><p>This commands allows an admin to save the VISHNU configuration. This configuration contains the list of users, the lists of machines and the list of local user configurations. It is saved on a xml format on a file registered on the directory $HOME/.vishnu/configurationSaved/.</p></div><div class="refsect1" title="ARGUMENTS"><a id="arguments"></a><h2>ARGUMENTS</h2><div class="variablelist"><dl><dt><span class="term"><span class="emphasis"><em>sessionKey</em></span></span></dt><dd><p>Input argument. The sessionKey is the encrypted identifier of the session generated by VISHNU.</p></dd><dt><span class="term"><span class="emphasis"><em>configuration</em></span></span></dt><dd><p>Output argument. The configuration is an object which encapsulates the configuration description.</p></dd></dl></div></div><div class="refsect1" title="EXCEPTIONS"><a id="exceptions"></a><h2>EXCEPTIONS</h2><p>The following exceptions may be thrown: </p><div class="variablelist"><dl><dt><span class="term">"Vishnu not available (Service bus failure)" [1]</span></dt><dd></dd><dt><span class="term">"Vishnu not available (Database error)" [2]</span></dt><dd></dd><dt><span class="term">"Vishnu not available (Database connection)" [3]</span></dt><dd></dd><dt><span class="term">"Vishnu not available (System)" [4]</span></dt><dd></dd><dt><span class="term">"Internal Error: Undefined exception" [9]</span></dt><dd></dd><dt><span class="term">"The user is not an administrator" [25]</span></dt><dd></dd><dt><span class="term">"A problem occurs during the configuration saving " [39]</span></dt><dd></dd></dl></div></div></div><div class="refentry" title="restoreConfiguration"><div class="refentry.separator"><hr /></div><a id="id377734"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>restoreConfiguration — restores the configuration of VISHNU</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">int <b class="fsfunc">vishnu::restoreConfiguration</b>(</code></td><td><var class="pdparam">sessionKey</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">filePath</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>const string&amp; <var class="pdparam">sessionKey</var></code>;<br /><code>const string&amp; <var class="pdparam">filePath</var></code>;</div><div class="funcprototype-spacer"> </div></div></div><div class="refsect1" title="DESCRIPTION"><a id="description"></a><h2>DESCRIPTION</h2><p>This function must be used carefully as it replaces all the content of the VISHNU central database
with the information stored in the provided file. This file contains the list of users, the lists of machines 
and the list of local user configurations. It can be created using the 
vishnu_save_configuration command.
The "root" VISHNU user is the only user authorized to call this function, and this action must be done
without any other user connected to VISHNU.
After restoring, the vishnu database is re-initialized.</p></div><div class="refsect1" title="ARGUMENTS"><a id="arguments"></a><h2>ARGUMENTS</h2><div class="variablelist"><dl><dt><span class="term"><span class="emphasis"><em>sessionKey</em></span></span></dt><dd><p>Input argument. The sessionKey is the encrypted identifier of the session generated by VISHNU.</p></dd><dt><span class="term"><span class="emphasis"><em>filePath</em></span></span></dt><dd><p>Input argument. The filePath is the path of the file used to restore VISHNU configuration.</p></dd></dl></div></div><div class="refsect1" title="EXCEPTIONS"><a id="exceptions"></a><h2>EXCEPTIONS</h2><p>The following exceptions may be thrown: </p><div class="variablelist"><dl><dt><span class="term">"Vishnu not available (Service bus failure)" [1]</span></dt><dd></dd><dt><span class="term">"Vishnu not available (Database error)" [2]</span></dt><dd></dd><dt><span class="term">"Vishnu not available (Database connection)" [3]</span></dt><dd></dd><dt><span class="term">"Vishnu not available (System)" [4]</span></dt><dd></dd><dt><span class="term">"Internal Error: Undefined exception" [9]</span></dt><dd></dd><dt><span class="term">"The user is not an administrator" [25]</span></dt><dd></dd><dt><span class="term">"A problem occurs during the configuration restoring" [40]</span></dt><dd></dd></dl></div></div></div><div class="refentry" title="addMachine"><div class="refentry.separator"><hr /></div><a id="id377920"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>addMachine — adds a new machine in VISHNU</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">int <b class="fsfunc">vishnu::addMachine</b>(</code></td><td><var class="pdparam">sessionKey</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">newMachine</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>const string&amp; <var class="pdparam">sessionKey</var></code>;<br /><code>Machine&amp; <var class="pdparam">newMachine</var></code>;</div><div class="funcprototype-spacer"> </div></div></div><div class="refsect1" title="DESCRIPTION"><a id="description"></a><h2>DESCRIPTION</h2><p>This command allows an admin to add a new machine in VISHNU.
Several machine information are mandatory such as: name, site, language
and the public ssh key of the VISHNU system account on the machine. This
public key will be provided automatically to all new VISHNU users who will
have to add it to the authorized keys of their own account on the machine.</p></div><div class="refsect1" title="ARGUMENTS"><a id="arguments"></a><h2>ARGUMENTS</h2><div class="variablelist"><dl><dt><span class="term"><span class="emphasis"><em>sessionKey</em></span></span></dt><dd><p>Input argument. The sessionKey is the encrypted identifier of the session generated by VISHNU.</p></dd><dt><span class="term"><span class="emphasis"><em>newMachine</em></span></span></dt><dd><p>Input/Output argument. Is an object which encapsulates the information of the machine which will be added in VISHNU except the machine id which will be created automatically by VISHNU.</p></dd></dl></div></div><div class="refsect1" title="EXCEPTIONS"><a id="exceptions"></a><h2>EXCEPTIONS</h2><p>The following exceptions may be thrown: </p><div class="variablelist"><dl><dt><span class="term">"Vishnu not available (Service bus failure)" [1]</span></dt><dd></dd><dt><span class="term">"Vishnu not available (Database error)" [2]</span></dt><dd></dd><dt><span class="term">"Vishnu not available (Database connection)" [3]</span></dt><dd></dd><dt><span class="term">"Vishnu not available (System)" [4]</span></dt><dd></dd><dt><span class="term">"Internal Error: Undefined exception" [9]</span></dt><dd></dd><dt><span class="term">"The user is not an administrator" [25]</span></dt><dd></dd><dt><span class="term">"The session key is unrecognized" [28]</span></dt><dd></dd><dt><span class="term">"The sessionKey is expired. The session is closed." [29]</span></dt><dd></dd><dt><span class="term">"The machineId already exists in the database" [33]</span></dt><dd></dd><dt><span class="term">"The closure policy is unknown" [42]</span></dt><dd></dd></dl></div></div></div><div class="refentry" title="updateMachine"><div class="refentry.separator"><hr /></div><a id="id378131"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>updateMachine — updates machine description</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">int <b class="fsfunc">vishnu::updateMachine</b>(</code></td><td><var class="pdparam">sessionKey</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">machine</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>const string&amp; <var class="pdparam">sessionKey</var></code>;<br /><code>const Machine&amp; <var class="pdparam">machine</var></code>;</div><div class="funcprototype-spacer"> </div></div></div><div class="refsect1" title="DESCRIPTION"><a id="description"></a><h2>DESCRIPTION</h2><p>This command allows an admin to update a  VISHNU machine or to locked it. A machine locked is not usable.</p></div><div class="refsect1" title="ARGUMENTS"><a id="arguments"></a><h2>ARGUMENTS</h2><div class="variablelist"><dl><dt><span class="term"><span class="emphasis"><em>sessionKey</em></span></span></dt><dd><p>Input argument. The sessionKey is the encrypted identifier of the session generated by VISHNU.</p></dd><dt><span class="term"><span class="emphasis"><em>machine</em></span></span></dt><dd><p>Input argument. Existing machine information.</p></dd></dl></div></div><div class="refsect1" title="EXCEPTIONS"><a id="exceptions"></a><h2>EXCEPTIONS</h2><p>The following exceptions may be thrown: </p><div class="variablelist"><dl><dt><span class="term">"Vishnu not available (Service bus failure)" [1]</span></dt><dd></dd><dt><span class="term">"Vishnu not available (Database error)" [2]</span></dt><dd></dd><dt><span class="term">"Vishnu not available (Database connection)" [3]</span></dt><dd></dd><dt><span class="term">"Vishnu not available (System)" [4]</span></dt><dd></dd><dt><span class="term">"Internal Error: Undefined exception" [9]</span></dt><dd></dd><dt><span class="term">"The user is not an administrator" [25]</span></dt><dd></dd><dt><span class="term">"The session key is unrecognized" [28]</span></dt><dd></dd><dt><span class="term">"The sessionKey is expired. The session is closed." [29]</span></dt><dd></dd><dt><span class="term">"The machine id is unknown" [32]</span></dt><dd></dd><dt><span class="term">"The closure policy is unknown" [42]</span></dt><dd></dd></dl></div></div></div><div class="refentry" title="deleteMachine"><div class="refentry.separator"><hr /></div><a id="id378339"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>deleteMachine — removes a machine from VISHNU</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">int <b class="fsfunc">vishnu::deleteMachine</b>(</code></td><td><var class="pdparam">sessionKey</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">machineId</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>const string&amp; <var class="pdparam">sessionKey</var></code>;<br /><code>const string&amp; <var class="pdparam">machineId</var></code>;</div><div class="funcprototype-spacer"> </div></div></div><div class="refsect1" title="DESCRIPTION"><a id="description"></a><h2>DESCRIPTION</h2><p>This command allows an admin to delete a machine from VISHNU. When a machine is deleted all of its information are deleted from VISHNU.</p></div><div class="refsect1" title="ARGUMENTS"><a id="arguments"></a><h2>ARGUMENTS</h2><div class="variablelist"><dl><dt><span class="term"><span class="emphasis"><em>sessionKey</em></span></span></dt><dd><p>Input argument. The sessionKey is the encrypted identifier of the session generated by VISHNU.</p></dd><dt><span class="term"><span class="emphasis"><em>machineId</em></span></span></dt><dd><p>Input argument. MachineId represents the identifier of the machine.</p></dd></dl></div></div><div class="refsect1" title="EXCEPTIONS"><a id="exceptions"></a><h2>EXCEPTIONS</h2><p>The following exceptions may be thrown: </p><div class="variablelist"><dl><dt><span class="term">"Vishnu not available (Service bus failure)" [1]</span></dt><dd></dd><dt><span class="term">"Vishnu not available (Database error)" [2]</span></dt><dd></dd><dt><span class="term">"Vishnu not available (Database connection)" [3]</span></dt><dd></dd><dt><span class="term">"Vishnu not available (System)" [4]</span></dt><dd></dd><dt><span class="term">"Internal Error: Undefined exception" [9]</span></dt><dd></dd><dt><span class="term">"The user is not an administrator" [25]</span></dt><dd></dd><dt><span class="term">"The session key is unrecognized" [28]</span></dt><dd></dd><dt><span class="term">"The sessionKey is expired. The session is closed." [29]</span></dt><dd></dd><dt><span class="term">"The machine id is unknown" [32]</span></dt><dd></dd></dl></div></div></div><div class="refentry" title="listUsers"><div class="refentry.separator"><hr /></div><a id="id378538"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>listUsers — lists VISHNU users</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">int <b class="fsfunc">vishnu::listUsers</b>(</code></td><td><var class="pdparam">sessionKey</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">listuser</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">userIdOption = string()</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>const string&amp; <var class="pdparam">sessionKey</var></code>;<br /><code>ListUsers&amp; <var class="pdparam">listuser</var></code>;<br /><code>const string&amp; <var class="pdparam">userIdOption = string()</var></code>;</div><div class="funcprototype-spacer"> </div></div></div><div class="refsect1" title="DESCRIPTION"><a id="description"></a><h2>DESCRIPTION</h2><p>This command allows an admin to display all users information except the passwords.</p></div><div class="refsect1" title="ARGUMENTS"><a id="arguments"></a><h2>ARGUMENTS</h2><div class="variablelist"><dl><dt><span class="term"><span class="emphasis"><em>sessionKey</em></span></span></dt><dd><p>Input argument. The sessionKey is the identifier of the session generated by VISHNU.</p></dd><dt><span class="term"><span class="emphasis"><em>listuser</em></span></span></dt><dd><p>Output argument. Listuser is the list of users .</p></dd><dt><span class="term"><span class="emphasis"><em>userIdOption</em></span></span></dt><dd><p>Input argument. Allows an admin to get information about a specific user identified by his/her userId.</p></dd></dl></div></div><div class="refsect1" title="EXCEPTIONS"><a id="exceptions"></a><h2>EXCEPTIONS</h2><p>The following exceptions may be thrown: </p><div class="variablelist"><dl><dt><span class="term">"Vishnu not available (Service bus failure)" [1]</span></dt><dd></dd><dt><span class="term">"Vishnu not available (Database error)" [2]</span></dt><dd></dd><dt><span class="term">"Vishnu not available (Database connection)" [3]</span></dt><dd></dd><dt><span class="term">"Vishnu not available (System)" [4]</span></dt><dd></dd><dt><span class="term">"Internal Error: Undefined exception" [9]</span></dt><dd></dd><dt><span class="term">"The userId is unknown" [21]</span></dt><dd></dd><dt><span class="term">"The user is not an administrator" [25]</span></dt><dd></dd><dt><span class="term">"The session key is unrecognized" [28]</span></dt><dd></dd><dt><span class="term">"The sessionKey is expired. The session is closed." [29]</span></dt><dd></dd></dl></div></div></div><div class="refentry" title="configureDefaultOption"><div class="refentry.separator"><hr /></div><a id="id378757"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>configureDefaultOption — configures a default option value</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef">int <b class="fsfunc">vishnu::configureDefaultOption</b>(</code></td><td><var class="pdparam">sessionKey</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">optionValue</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>const string&amp; <var class="pdparam">sessionKey</var></code>;<br /><code>const OptionValue&amp; <var class="pdparam">optionValue</var></code>;</div><div class="funcprototype-spacer"> </div></div></div><div class="refsect1" title="DESCRIPTION"><a id="description"></a><h2>DESCRIPTION</h2><p>Options in VISHNU corresponds to parameters of some VISHNU commands 
(e.g. the close policy for vishnu_connect)
that can be preset in the user configuration stored by the VISHNU system.
This command allows an administrator to configure the default value of an option;
this is the value that will be applied when the user has no configuration defined for
that option using the vishnu_configure_option command.</p></div><div class="refsect1" title="ARGUMENTS"><a id="arguments"></a><h2>ARGUMENTS</h2><div class="variablelist"><dl><dt><span class="term"><span class="emphasis"><em>sessionKey</em></span></span></dt><dd><p>Input argument. The sessionKey is the encrypted identifier of the session generated by VISHNU.</p></dd><dt><span class="term"><span class="emphasis"><em>optionValue</em></span></span></dt><dd><p>Input argument. The optionValue is an object which encapsulates the option information.</p></dd></dl></div></div><div class="refsect1" title="EXCEPTIONS"><a id="exceptions"></a><h2>EXCEPTIONS</h2><p>The following exceptions may be thrown: </p><div class="variablelist"><dl><dt><span class="term">"Vishnu not available (Service bus failure)" [1]</span></dt><dd></dd><dt><span class="term">"Vishnu not available (Database error)" [2]</span></dt><dd></dd><dt><span class="term">"Vishnu not available (Database connection)" [3]</span></dt><dd></dd><dt><span class="term">"Vishnu not available (System)" [4]</span></dt><dd></dd><dt><span class="term">"Internal Error: Undefined exception" [9]</span></dt><dd></dd><dt><span class="term">"The user is not an administrator" [25]</span></dt><dd></dd><dt><span class="term">"The session key is unrecognized" [28]</span></dt><dd></dd><dt><span class="term">"The sessionKey is expired. The session is closed." [29]</span></dt><dd></dd><dt><span class="term">"The name of the user option is unknown" [41]</span></dt><dd></dd><dt><span class="term">"The value of the timeout is incorrect" [43]</span></dt><dd></dd><dt><span class="term">"The value of the transfer command is incorrect" [44]</span></dt><dd></dd></dl></div></div></div></div><div class="reference" title="UMS Python API Reference"><div class="titlepage"><div><div><h1 class="title"><a id="id378978"></a>UMS Python API Reference</h1></div></div><hr /></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="refentrytitle"><a href="#id378984">VISHNU_UMS.addUser</a></span><span class="refpurpose"> — adds a new VISHNU user</span></dt><dt><span class="refentrytitle"><a href="#id379244">VISHNU_UMS.updateUser</a></span><span class="refpurpose"> — updates the user information except the userId and the password</span></dt><dt><span class="refentrytitle"><a href="#id379504">VISHNU_UMS.deleteUser</a></span><span class="refpurpose"> — removes a user from VISHNU</span></dt><dt><span class="refentrytitle"><a href="#id379744">VISHNU_UMS.resetPassword</a></span><span class="refpurpose"> — resets the password of a user</span></dt><dt><span class="refentrytitle"><a href="#id380003">VISHNU_UMS.saveConfiguration</a></span><span class="refpurpose"> — saves the configuration of VISHNU</span></dt><dt><span class="refentrytitle"><a href="#id380216">VISHNU_UMS.restoreConfiguration</a></span><span class="refpurpose"> — restores the configuration of VISHNU</span></dt><dt><span class="refentrytitle"><a href="#id380431">VISHNU_UMS.addMachine</a></span><span class="refpurpose"> — adds a new machine in VISHNU</span></dt><dt><span class="refentrytitle"><a href="#id380674">VISHNU_UMS.updateMachine</a></span><span class="refpurpose"> — updates machine description</span></dt><dt><span class="refentrytitle"><a href="#id380914">VISHNU_UMS.deleteMachine</a></span><span class="refpurpose"> — removes a machine from VISHNU</span></dt><dt><span class="refentrytitle"><a href="#id381145">VISHNU_UMS.listUsers</a></span><span class="refpurpose"> — lists VISHNU users</span></dt><dt><span class="refentrytitle"><a href="#id381393">VISHNU_UMS.configureDefaultOption</a></span><span class="refpurpose"> — configures a default option value</span></dt></dl></div><div class="refentry" title="VISHNU_UMS.addUser"><a id="id378984"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>VISHNU_UMS.addUser — adds a new VISHNU user</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef"><b class="fsfunc">VISHNU_UMS.addUser</b>(</code></td><td><var class="pdparam">sessionKey</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">newUser</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>string <var class="pdparam">sessionKey</var></code>;<br /><code>User <var class="pdparam">newUser</var></code>;</div><div class="funcprototype-spacer"> </div></div></div><div class="refsect1" title="DESCRIPTION"><a id="description"></a><h2>DESCRIPTION</h2><p>This command allows an admin to add a new user in VISHNU. 
Several user information are necessary such as: lastname, firtsname and email adress. 
The admin also gives a VISHNU privilege to the new user and a new userId 
and password are sent to the user by email.</p></div><div class="refsect1" title="ARGUMENTS"><a id="arguments"></a><h2>ARGUMENTS</h2><div class="variablelist"><dl><dt><span class="term"><span class="emphasis"><em>sessionKey</em></span></span></dt><dd><p>Input argument. The sessionKey is the encrypted identifier of the session generated by VISHNU.</p></dd><dt><span class="term"><span class="emphasis"><em>newUser</em></span></span></dt><dd><p>Input/Output argument. Object containing the new user information.</p></dd></dl></div></div><div class="refsect1" title="RETURNED OBJECTS"><a id="returned objects"></a><h2>RETURNED OBJECTS</h2><div class="variablelist"><dl><dt><span class="term"><span class="emphasis"><em>errorCode (integer)</em></span></span></dt><dd><p>Output parameter. Contains 0 on success and the error code on failure.</p></dd></dl></div></div><div class="refsect1" title="EXCEPTIONS"><a id="exceptions"></a><h2>EXCEPTIONS</h2><p>The following exceptions may be thrown: </p><div class="variablelist"><dl><dt><span class="term">SystemException("Vishnu not available (Service bus failure)" [1])</span></dt><dd></dd><dt><span class="term">SystemException("Vishnu not available (Database error)" [2])</span></dt><dd></dd><dt><span class="term">SystemException("Vishnu not available (Database connection)" [3])</span></dt><dd></dd><dt><span class="term">SystemException("Vishnu not available (System)" [4])</span></dt><dd></dd><dt><span class="term">SystemException("Internal Error: Undefined exception" [9])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("The userId already exists in the database" [22])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("The user is locked" [23])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("The user is not an administrator" [25])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("The mail adress is invalid" [27])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("The session key is unrecognized" [28])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("The sessionKey is expired. The session is closed." [29])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("The machine is locked" [34])</span></dt><dd></dd></dl></div></div></div><div class="refentry" title="VISHNU_UMS.updateUser"><div class="refentry.separator"><hr /></div><a id="id379244"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>VISHNU_UMS.updateUser — updates the user information except the userId and the password</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef"><b class="fsfunc">VISHNU_UMS.updateUser</b>(</code></td><td><var class="pdparam">sessionKey</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">user</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>string <var class="pdparam">sessionKey</var></code>;<br /><code>User <var class="pdparam">user</var></code>;</div><div class="funcprototype-spacer"> </div></div></div><div class="refsect1" title="DESCRIPTION"><a id="description"></a><h2>DESCRIPTION</h2><p>This command allows an admin to update a VISHNU user information or to lock a user.  When a user is locked, she/he can not uses VISHNU. However, it is not possible to change the privilege of another admin.</p></div><div class="refsect1" title="ARGUMENTS"><a id="arguments"></a><h2>ARGUMENTS</h2><div class="variablelist"><dl><dt><span class="term"><span class="emphasis"><em>sessionKey</em></span></span></dt><dd><p>Input argument. The sessionKey is the encrypted identifier of the session generated by VISHNU.</p></dd><dt><span class="term"><span class="emphasis"><em>user</em></span></span></dt><dd><p>Input argument. Object containing user information.</p></dd></dl></div></div><div class="refsect1" title="RETURNED OBJECTS"><a id="returned objects"></a><h2>RETURNED OBJECTS</h2><div class="variablelist"><dl><dt><span class="term"><span class="emphasis"><em>errorCode (integer)</em></span></span></dt><dd><p>Output parameter. Contains 0 on success and the error code on failure.</p></dd></dl></div></div><div class="refsect1" title="EXCEPTIONS"><a id="exceptions"></a><h2>EXCEPTIONS</h2><p>The following exceptions may be thrown: </p><div class="variablelist"><dl><dt><span class="term">SystemException("Vishnu not available (Service bus failure)" [1])</span></dt><dd></dd><dt><span class="term">SystemException("Vishnu not available (Database error)" [2])</span></dt><dd></dd><dt><span class="term">SystemException("Vishnu not available (Database connection)" [3])</span></dt><dd></dd><dt><span class="term">SystemException("Vishnu not available (System)" [4])</span></dt><dd></dd><dt><span class="term">SystemException("Internal Error: Undefined exception" [9])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("The userId is unknown" [21])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("The user is locked" [23])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("Trying to lock a user account that is already locked" [24])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("The user is not an administrator" [25])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("The mail adress is invalid" [27])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("The session key is unrecognized" [28])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("The sessionKey is expired. The session is closed." [29])</span></dt><dd></dd></dl></div></div></div><div class="refentry" title="VISHNU_UMS.deleteUser"><div class="refentry.separator"><hr /></div><a id="id379504"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>VISHNU_UMS.deleteUser — removes a user from VISHNU</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef"><b class="fsfunc">VISHNU_UMS.deleteUser</b>(</code></td><td><var class="pdparam">sessionKey</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">userId</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>string <var class="pdparam">sessionKey</var></code>;<br /><code>string <var class="pdparam">userId</var></code>;</div><div class="funcprototype-spacer"> </div></div></div><div class="refsect1" title="DESCRIPTION"><a id="description"></a><h2>DESCRIPTION</h2><p>This command allows an admin to delete a user from VISHNU. When a user is deleted from VISHNU all of her/his information are deleted from VISHNU. However, it is not possible to delete the VISHNU root user.</p></div><div class="refsect1" title="ARGUMENTS"><a id="arguments"></a><h2>ARGUMENTS</h2><div class="variablelist"><dl><dt><span class="term"><span class="emphasis"><em>sessionKey</em></span></span></dt><dd><p>Input argument. The sessionKey is the encrypted identifier of the session generated by VISHNU.</p></dd><dt><span class="term"><span class="emphasis"><em>userId</em></span></span></dt><dd><p>Input argument. UserId represents the VISHNU user identifier of the user who will be deleted from VISHNU.</p></dd></dl></div></div><div class="refsect1" title="RETURNED OBJECTS"><a id="returned objects"></a><h2>RETURNED OBJECTS</h2><div class="variablelist"><dl><dt><span class="term"><span class="emphasis"><em>errorCode (integer)</em></span></span></dt><dd><p>Output parameter. Contains 0 on success and the error code on failure.</p></dd></dl></div></div><div class="refsect1" title="EXCEPTIONS"><a id="exceptions"></a><h2>EXCEPTIONS</h2><p>The following exceptions may be thrown: </p><div class="variablelist"><dl><dt><span class="term">SystemException("Vishnu not available (Service bus failure)" [1])</span></dt><dd></dd><dt><span class="term">SystemException("Vishnu not available (Database error)" [2])</span></dt><dd></dd><dt><span class="term">SystemException("Vishnu not available (Database connection)" [3])</span></dt><dd></dd><dt><span class="term">SystemException("Vishnu not available (System)" [4])</span></dt><dd></dd><dt><span class="term">SystemException("Internal Error: Undefined exception" [9])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("The userId is unknown" [21])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("The user is locked" [23])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("The user is not an administrator" [25])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("The session key is unrecognized" [28])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("The sessionKey is expired. The session is closed." [29])</span></dt><dd></dd></dl></div></div></div><div class="refentry" title="VISHNU_UMS.resetPassword"><div class="refentry.separator"><hr /></div><a id="id379744"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>VISHNU_UMS.resetPassword — resets the password of a user</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef"><b class="fsfunc">VISHNU_UMS.resetPassword</b>(</code></td><td><var class="pdparam">sessionKey</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">userId</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">tmpPassword</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>string <var class="pdparam">sessionKey</var></code>;<br /><code>string <var class="pdparam">userId</var></code>;<br /><code>string <var class="pdparam">tmpPassword</var></code>;</div><div class="funcprototype-spacer"> </div></div></div><div class="refsect1" title="DESCRIPTION"><a id="description"></a><h2>DESCRIPTION</h2><p>This command allows an admin to reset the password of the user. The password generated is temporary and must be changed for using VISHNU.</p></div><div class="refsect1" title="ARGUMENTS"><a id="arguments"></a><h2>ARGUMENTS</h2><div class="variablelist"><dl><dt><span class="term"><span class="emphasis"><em>sessionKey</em></span></span></dt><dd><p>Input argument. The sessionKey is the encrypted identifier of the session generated by VISHNU.</p></dd><dt><span class="term"><span class="emphasis"><em>userId</em></span></span></dt><dd><p>Input argument. UserId represents the VISHNU user identifier of the user whose password will be reset.</p></dd><dt><span class="term"><span class="emphasis"><em>tmpPassword</em></span></span></dt><dd><p>Output argument. The temporary password generated by VISHNU.</p></dd></dl></div></div><div class="refsect1" title="RETURNED OBJECTS"><a id="returned objects"></a><h2>RETURNED OBJECTS</h2><div class="variablelist"><dl><dt><span class="term"><span class="emphasis"><em>errorCode (integer)</em></span></span></dt><dd><p>Output parameter. Contains 0 on success and the error code on failure.</p></dd></dl></div></div><div class="refsect1" title="EXCEPTIONS"><a id="exceptions"></a><h2>EXCEPTIONS</h2><p>The following exceptions may be thrown: </p><div class="variablelist"><dl><dt><span class="term">SystemException("Vishnu not available (Service bus failure)" [1])</span></dt><dd></dd><dt><span class="term">SystemException("Vishnu not available (Database error)" [2])</span></dt><dd></dd><dt><span class="term">SystemException("Vishnu not available (Database connection)" [3])</span></dt><dd></dd><dt><span class="term">SystemException("Vishnu not available (System)" [4])</span></dt><dd></dd><dt><span class="term">SystemException("Internal Error: Undefined exception" [9])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("The userId is unknown" [21])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("The user is locked" [23])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("The user is not an administrator" [25])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("The session key is unrecognized" [28])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("The sessionKey is expired. The session is closed." [29])</span></dt><dd></dd></dl></div></div></div><div class="refentry" title="VISHNU_UMS.saveConfiguration"><div class="refentry.separator"><hr /></div><a id="id380003"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>VISHNU_UMS.saveConfiguration — saves the configuration of VISHNU</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef"><b class="fsfunc">VISHNU_UMS.saveConfiguration</b>(</code></td><td><var class="pdparam">sessionKey</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">configuration</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>string <var class="pdparam">sessionKey</var></code>;<br /><code>Configuration <var class="pdparam">configuration</var></code>;</div><div class="funcprototype-spacer"> </div></div></div><div class="refsect1" title="DESCRIPTION"><a id="description"></a><h2>DESCRIPTION</h2><p>This commands allows an admin to save the VISHNU configuration. This configuration contains the list of users, the lists of machines and the list of local user configurations. It is saved on a xml format on a file registered on the directory $HOME/.vishnu/configurationSaved/.</p></div><div class="refsect1" title="ARGUMENTS"><a id="arguments"></a><h2>ARGUMENTS</h2><div class="variablelist"><dl><dt><span class="term"><span class="emphasis"><em>sessionKey</em></span></span></dt><dd><p>Input argument. The sessionKey is the encrypted identifier of the session generated by VISHNU.</p></dd><dt><span class="term"><span class="emphasis"><em>configuration</em></span></span></dt><dd><p>Output argument. The configuration is an object which encapsulates the configuration description.</p></dd></dl></div></div><div class="refsect1" title="RETURNED OBJECTS"><a id="returned objects"></a><h2>RETURNED OBJECTS</h2><div class="variablelist"><dl><dt><span class="term"><span class="emphasis"><em>errorCode (integer)</em></span></span></dt><dd><p>Output parameter. Contains 0 on success and the error code on failure.</p></dd></dl></div></div><div class="refsect1" title="EXCEPTIONS"><a id="exceptions"></a><h2>EXCEPTIONS</h2><p>The following exceptions may be thrown: </p><div class="variablelist"><dl><dt><span class="term">SystemException("Vishnu not available (Service bus failure)" [1])</span></dt><dd></dd><dt><span class="term">SystemException("Vishnu not available (Database error)" [2])</span></dt><dd></dd><dt><span class="term">SystemException("Vishnu not available (Database connection)" [3])</span></dt><dd></dd><dt><span class="term">SystemException("Vishnu not available (System)" [4])</span></dt><dd></dd><dt><span class="term">SystemException("Internal Error: Undefined exception" [9])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("The user is not an administrator" [25])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("A problem occurs during the configuration saving " [39])</span></dt><dd></dd></dl></div></div></div><div class="refentry" title="VISHNU_UMS.restoreConfiguration"><div class="refentry.separator"><hr /></div><a id="id380216"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>VISHNU_UMS.restoreConfiguration — restores the configuration of VISHNU</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef"><b class="fsfunc">VISHNU_UMS.restoreConfiguration</b>(</code></td><td><var class="pdparam">sessionKey</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">filePath</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>string <var class="pdparam">sessionKey</var></code>;<br /><code>string <var class="pdparam">filePath</var></code>;</div><div class="funcprototype-spacer"> </div></div></div><div class="refsect1" title="DESCRIPTION"><a id="description"></a><h2>DESCRIPTION</h2><p>This function must be used carefully as it replaces all the content of the VISHNU central database
with the information stored in the provided file. This file contains the list of users, the lists of machines 
and the list of local user configurations. It can be created using the 
vishnu_save_configuration command.
The "root" VISHNU user is the only user authorized to call this function, and this action must be done
without any other user connected to VISHNU.
After restoring, the vishnu database is re-initialized.</p></div><div class="refsect1" title="ARGUMENTS"><a id="arguments"></a><h2>ARGUMENTS</h2><div class="variablelist"><dl><dt><span class="term"><span class="emphasis"><em>sessionKey</em></span></span></dt><dd><p>Input argument. The sessionKey is the encrypted identifier of the session generated by VISHNU.</p></dd><dt><span class="term"><span class="emphasis"><em>filePath</em></span></span></dt><dd><p>Input argument. The filePath is the path of the file used to restore VISHNU configuration.</p></dd></dl></div></div><div class="refsect1" title="RETURNED OBJECTS"><a id="returned objects"></a><h2>RETURNED OBJECTS</h2><div class="variablelist"><dl><dt><span class="term"><span class="emphasis"><em>errorCode (integer)</em></span></span></dt><dd><p>Output parameter. Contains 0 on success and the error code on failure.</p></dd></dl></div></div><div class="refsect1" title="EXCEPTIONS"><a id="exceptions"></a><h2>EXCEPTIONS</h2><p>The following exceptions may be thrown: </p><div class="variablelist"><dl><dt><span class="term">SystemException("Vishnu not available (Service bus failure)" [1])</span></dt><dd></dd><dt><span class="term">SystemException("Vishnu not available (Database error)" [2])</span></dt><dd></dd><dt><span class="term">SystemException("Vishnu not available (Database connection)" [3])</span></dt><dd></dd><dt><span class="term">SystemException("Vishnu not available (System)" [4])</span></dt><dd></dd><dt><span class="term">SystemException("Internal Error: Undefined exception" [9])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("The user is not an administrator" [25])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("A problem occurs during the configuration restoring" [40])</span></dt><dd></dd></dl></div></div></div><div class="refentry" title="VISHNU_UMS.addMachine"><div class="refentry.separator"><hr /></div><a id="id380431"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>VISHNU_UMS.addMachine — adds a new machine in VISHNU</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef"><b class="fsfunc">VISHNU_UMS.addMachine</b>(</code></td><td><var class="pdparam">sessionKey</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">newMachine</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>string <var class="pdparam">sessionKey</var></code>;<br /><code>Machine <var class="pdparam">newMachine</var></code>;</div><div class="funcprototype-spacer"> </div></div></div><div class="refsect1" title="DESCRIPTION"><a id="description"></a><h2>DESCRIPTION</h2><p>This command allows an admin to add a new machine in VISHNU.
Several machine information are mandatory such as: name, site, language
and the public ssh key of the VISHNU system account on the machine. This
public key will be provided automatically to all new VISHNU users who will
have to add it to the authorized keys of their own account on the machine.</p></div><div class="refsect1" title="ARGUMENTS"><a id="arguments"></a><h2>ARGUMENTS</h2><div class="variablelist"><dl><dt><span class="term"><span class="emphasis"><em>sessionKey</em></span></span></dt><dd><p>Input argument. The sessionKey is the encrypted identifier of the session generated by VISHNU.</p></dd><dt><span class="term"><span class="emphasis"><em>newMachine</em></span></span></dt><dd><p>Input/Output argument. Is an object which encapsulates the information of the machine which will be added in VISHNU except the machine id which will be created automatically by VISHNU.</p></dd></dl></div></div><div class="refsect1" title="RETURNED OBJECTS"><a id="returned objects"></a><h2>RETURNED OBJECTS</h2><div class="variablelist"><dl><dt><span class="term"><span class="emphasis"><em>errorCode (integer)</em></span></span></dt><dd><p>Output parameter. Contains 0 on success and the error code on failure.</p></dd></dl></div></div><div class="refsect1" title="EXCEPTIONS"><a id="exceptions"></a><h2>EXCEPTIONS</h2><p>The following exceptions may be thrown: </p><div class="variablelist"><dl><dt><span class="term">SystemException("Vishnu not available (Service bus failure)" [1])</span></dt><dd></dd><dt><span class="term">SystemException("Vishnu not available (Database error)" [2])</span></dt><dd></dd><dt><span class="term">SystemException("Vishnu not available (Database connection)" [3])</span></dt><dd></dd><dt><span class="term">SystemException("Vishnu not available (System)" [4])</span></dt><dd></dd><dt><span class="term">SystemException("Internal Error: Undefined exception" [9])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("The user is not an administrator" [25])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("The session key is unrecognized" [28])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("The sessionKey is expired. The session is closed." [29])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("The machineId already exists in the database" [33])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("The closure policy is unknown" [42])</span></dt><dd></dd></dl></div></div></div><div class="refentry" title="VISHNU_UMS.updateMachine"><div class="refentry.separator"><hr /></div><a id="id380674"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>VISHNU_UMS.updateMachine — updates machine description</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef"><b class="fsfunc">VISHNU_UMS.updateMachine</b>(</code></td><td><var class="pdparam">sessionKey</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">machine</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>string <var class="pdparam">sessionKey</var></code>;<br /><code>Machine <var class="pdparam">machine</var></code>;</div><div class="funcprototype-spacer"> </div></div></div><div class="refsect1" title="DESCRIPTION"><a id="description"></a><h2>DESCRIPTION</h2><p>This command allows an admin to update a  VISHNU machine or to locked it. A machine locked is not usable.</p></div><div class="refsect1" title="ARGUMENTS"><a id="arguments"></a><h2>ARGUMENTS</h2><div class="variablelist"><dl><dt><span class="term"><span class="emphasis"><em>sessionKey</em></span></span></dt><dd><p>Input argument. The sessionKey is the encrypted identifier of the session generated by VISHNU.</p></dd><dt><span class="term"><span class="emphasis"><em>machine</em></span></span></dt><dd><p>Input argument. Existing machine information.</p></dd></dl></div></div><div class="refsect1" title="RETURNED OBJECTS"><a id="returned objects"></a><h2>RETURNED OBJECTS</h2><div class="variablelist"><dl><dt><span class="term"><span class="emphasis"><em>errorCode (integer)</em></span></span></dt><dd><p>Output parameter. Contains 0 on success and the error code on failure.</p></dd></dl></div></div><div class="refsect1" title="EXCEPTIONS"><a id="exceptions"></a><h2>EXCEPTIONS</h2><p>The following exceptions may be thrown: </p><div class="variablelist"><dl><dt><span class="term">SystemException("Vishnu not available (Service bus failure)" [1])</span></dt><dd></dd><dt><span class="term">SystemException("Vishnu not available (Database error)" [2])</span></dt><dd></dd><dt><span class="term">SystemException("Vishnu not available (Database connection)" [3])</span></dt><dd></dd><dt><span class="term">SystemException("Vishnu not available (System)" [4])</span></dt><dd></dd><dt><span class="term">SystemException("Internal Error: Undefined exception" [9])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("The user is not an administrator" [25])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("The session key is unrecognized" [28])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("The sessionKey is expired. The session is closed." [29])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("The machine id is unknown" [32])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("The closure policy is unknown" [42])</span></dt><dd></dd></dl></div></div></div><div class="refentry" title="VISHNU_UMS.deleteMachine"><div class="refentry.separator"><hr /></div><a id="id380914"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>VISHNU_UMS.deleteMachine — removes a machine from VISHNU</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef"><b class="fsfunc">VISHNU_UMS.deleteMachine</b>(</code></td><td><var class="pdparam">sessionKey</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">machineId</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>string <var class="pdparam">sessionKey</var></code>;<br /><code>string <var class="pdparam">machineId</var></code>;</div><div class="funcprototype-spacer"> </div></div></div><div class="refsect1" title="DESCRIPTION"><a id="description"></a><h2>DESCRIPTION</h2><p>This command allows an admin to delete a machine from VISHNU. When a machine is deleted all of its information are deleted from VISHNU.</p></div><div class="refsect1" title="ARGUMENTS"><a id="arguments"></a><h2>ARGUMENTS</h2><div class="variablelist"><dl><dt><span class="term"><span class="emphasis"><em>sessionKey</em></span></span></dt><dd><p>Input argument. The sessionKey is the encrypted identifier of the session generated by VISHNU.</p></dd><dt><span class="term"><span class="emphasis"><em>machineId</em></span></span></dt><dd><p>Input argument. MachineId represents the identifier of the machine.</p></dd></dl></div></div><div class="refsect1" title="RETURNED OBJECTS"><a id="returned objects"></a><h2>RETURNED OBJECTS</h2><div class="variablelist"><dl><dt><span class="term"><span class="emphasis"><em>errorCode (integer)</em></span></span></dt><dd><p>Output parameter. Contains 0 on success and the error code on failure.</p></dd></dl></div></div><div class="refsect1" title="EXCEPTIONS"><a id="exceptions"></a><h2>EXCEPTIONS</h2><p>The following exceptions may be thrown: </p><div class="variablelist"><dl><dt><span class="term">SystemException("Vishnu not available (Service bus failure)" [1])</span></dt><dd></dd><dt><span class="term">SystemException("Vishnu not available (Database error)" [2])</span></dt><dd></dd><dt><span class="term">SystemException("Vishnu not available (Database connection)" [3])</span></dt><dd></dd><dt><span class="term">SystemException("Vishnu not available (System)" [4])</span></dt><dd></dd><dt><span class="term">SystemException("Internal Error: Undefined exception" [9])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("The user is not an administrator" [25])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("The session key is unrecognized" [28])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("The sessionKey is expired. The session is closed." [29])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("The machine id is unknown" [32])</span></dt><dd></dd></dl></div></div></div><div class="refentry" title="VISHNU_UMS.listUsers"><div class="refentry.separator"><hr /></div><a id="id381145"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>VISHNU_UMS.listUsers — lists VISHNU users</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef"><b class="fsfunc">VISHNU_UMS.listUsers</b>(</code></td><td><var class="pdparam">sessionKey</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">listuser</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">userIdOption = string()</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>string <var class="pdparam">sessionKey</var></code>;<br /><code>ListUsers <var class="pdparam">listuser</var></code>;<br /><code>string <var class="pdparam">userIdOption = string()</var></code>;</div><div class="funcprototype-spacer"> </div></div></div><div class="refsect1" title="DESCRIPTION"><a id="description"></a><h2>DESCRIPTION</h2><p>This command allows an admin to display all users information except the passwords.</p></div><div class="refsect1" title="ARGUMENTS"><a id="arguments"></a><h2>ARGUMENTS</h2><div class="variablelist"><dl><dt><span class="term"><span class="emphasis"><em>sessionKey</em></span></span></dt><dd><p>Input argument. The sessionKey is the identifier of the session generated by VISHNU.</p></dd><dt><span class="term"><span class="emphasis"><em>listuser</em></span></span></dt><dd><p>Output argument. Listuser is the list of users .</p></dd><dt><span class="term"><span class="emphasis"><em>userIdOption</em></span></span></dt><dd><p>Input argument. Allows an admin to get information about a specific user identified by his/her userId.</p></dd></dl></div></div><div class="refsect1" title="RETURNED OBJECTS"><a id="returned objects"></a><h2>RETURNED OBJECTS</h2><div class="variablelist"><dl><dt><span class="term"><span class="emphasis"><em>errorCode (integer)</em></span></span></dt><dd><p>Output parameter. Contains 0 on success and the error code on failure.</p></dd></dl></div></div><div class="refsect1" title="EXCEPTIONS"><a id="exceptions"></a><h2>EXCEPTIONS</h2><p>The following exceptions may be thrown: </p><div class="variablelist"><dl><dt><span class="term">SystemException("Vishnu not available (Service bus failure)" [1])</span></dt><dd></dd><dt><span class="term">SystemException("Vishnu not available (Database error)" [2])</span></dt><dd></dd><dt><span class="term">SystemException("Vishnu not available (Database connection)" [3])</span></dt><dd></dd><dt><span class="term">SystemException("Vishnu not available (System)" [4])</span></dt><dd></dd><dt><span class="term">SystemException("Internal Error: Undefined exception" [9])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("The userId is unknown" [21])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("The user is not an administrator" [25])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("The session key is unrecognized" [28])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("The sessionKey is expired. The session is closed." [29])</span></dt><dd></dd></dl></div></div></div><div class="refentry" title="VISHNU_UMS.configureDefaultOption"><div class="refentry.separator"><hr /></div><a id="id381393"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>VISHNU_UMS.configureDefaultOption — configures a default option value</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="funcsynopsis"><table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table"><tr><td><code class="funcdef"><b class="fsfunc">VISHNU_UMS.configureDefaultOption</b>(</code></td><td><var class="pdparam">sessionKey</var>, </td><td> </td></tr><tr><td> </td><td><var class="pdparam">optionValue</var><code>)</code>;</td><td> </td></tr></table><div class="paramdef-list"><code>string <var class="pdparam">sessionKey</var></code>;<br /><code>OptionValue <var class="pdparam">optionValue</var></code>;</div><div class="funcprototype-spacer"> </div></div></div><div class="refsect1" title="DESCRIPTION"><a id="description"></a><h2>DESCRIPTION</h2><p>Options in VISHNU corresponds to parameters of some VISHNU commands 
(e.g. the close policy for vishnu_connect)
that can be preset in the user configuration stored by the VISHNU system.
This command allows an administrator to configure the default value of an option;
this is the value that will be applied when the user has no configuration defined for
that option using the vishnu_configure_option command.</p></div><div class="refsect1" title="ARGUMENTS"><a id="arguments"></a><h2>ARGUMENTS</h2><div class="variablelist"><dl><dt><span class="term"><span class="emphasis"><em>sessionKey</em></span></span></dt><dd><p>Input argument. The sessionKey is the encrypted identifier of the session generated by VISHNU.</p></dd><dt><span class="term"><span class="emphasis"><em>optionValue</em></span></span></dt><dd><p>Input argument. The optionValue is an object which encapsulates the option information.</p></dd></dl></div></div><div class="refsect1" title="RETURNED OBJECTS"><a id="returned objects"></a><h2>RETURNED OBJECTS</h2><div class="variablelist"><dl><dt><span class="term"><span class="emphasis"><em>errorCode (integer)</em></span></span></dt><dd><p>Output parameter. Contains 0 on success and the error code on failure.</p></dd></dl></div></div><div class="refsect1" title="EXCEPTIONS"><a id="exceptions"></a><h2>EXCEPTIONS</h2><p>The following exceptions may be thrown: </p><div class="variablelist"><dl><dt><span class="term">SystemException("Vishnu not available (Service bus failure)" [1])</span></dt><dd></dd><dt><span class="term">SystemException("Vishnu not available (Database error)" [2])</span></dt><dd></dd><dt><span class="term">SystemException("Vishnu not available (Database connection)" [3])</span></dt><dd></dd><dt><span class="term">SystemException("Vishnu not available (System)" [4])</span></dt><dd></dd><dt><span class="term">SystemException("Internal Error: Undefined exception" [9])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("The user is not an administrator" [25])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("The session key is unrecognized" [28])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("The sessionKey is expired. The session is closed." [29])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("The name of the user option is unknown" [41])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("The value of the timeout is incorrect" [43])</span></dt><dd></dd><dt><span class="term">UMSVishnuException("The value of the transfer command is incorrect" [44])</span></dt><dd></dd></dl></div></div></div></div></div></body></html>
