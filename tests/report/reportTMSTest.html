<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>VISHNU - TMS - Tests report</title><meta name="generator" content="DocBook XSL Stylesheets V1.75.2" /></head><body><div class="book" title="VISHNU - TMS - Tests report"><div class="titlepage"><div><div><h1 class="title"><a id="id2678529"></a> VISHNU - TMS - Tests report</h1></div><div><div class="author"><h3 class="author"><span class="firstname">Benjamin</span> <span class="surname">Isnard</span></h3></div></div><div><div class="author"><h3 class="author"><span class="firstname">Daouda</span> <span class="surname">Traoré</span></h3></div></div><div><div class="author"><h3 class="author"><span class="firstname">Eugène</span> <span class="surname">Pamba Capo-Chichi</span></h3></div></div><div><div class="author"><h3 class="author"><span class="firstname">Kevin</span> <span class="surname">Coulomb</span></h3></div></div><div><div class="author"><h3 class="author"><span class="firstname">Ibrahima</span> <span class="surname">Cissé</span></h3></div></div><div><p class="releaseinfo">1.0</p></div><div><p class="copyright">Copyright © 2011 SysFera SAS</p></div><div><div class="legalnotice" title="Legal Notice"><a id="id2921699"></a><p>This report is provided under the following conditions:</p><p>Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</p></li><li class="listitem"><p>Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</p></li></ol></div><p>This software is governed by the CECILL licence under French law and
abiding by the rules of distribution of free software.  You can  use, 
modify and/ or redistribute the software under the terms of the CeCILL
license as circulated by CEA, CNRS and INRIA at the following URL
"http://www.cecill.info".</p><p>As a counterpart to the access to the source code and  rights to copy,
modify and redistribute granted by the license, users are provided only
with a limited warranty  and the software's author,  the holder of the
economic rights,  and the successive licensors  have only  limited
liability.</p><p>In this respect, the user's attention is drawn to the risks associated
with loading,  using,  modifying and/or developing or reproducing the
software by the user in light of its specific status of free software,
that may mean  that it is complicated to manipulate,  and  that  also
therefore means  that it is reserved for developers  and  experienced
professionals having in-depth computer knowledge. Users are therefore
encouraged to load and test the software's suitability as regards their
requirements in conditions enabling the security of their systems and/or 
data to be ensured and,  more generally, to use and operate it in the 
same conditions as regards security.</p></div></div><div><div class="revhistory"><table border="1" width="100%" summary="Revision history"><tr><th align="left" valign="top" colspan="3"><b>Revision History</b></th></tr><tr><td align="left">Revision 1</td><td align="left">05/05/2011</td><td align="left">  SYSFERA SAS</td></tr><tr><td align="left" colspan="3">
          <p>Deliverable version</p>
        </td></tr></table></div></div></div><hr /></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="chapter"><a href="#id2920960">1.  Introduction </a></span></dt><dt><span class="chapter"><a href="#id2922057">2. Functional tests </a></span></dt><dd><dl><dt><span class="section"><a href="#id2922062"> T1.1 - Submit a job </a></span></dt><dt><span class="section"><a href="#id2922256"> T2.2 - Cancel a job </a></span></dt><dt><span class="section"><a href="#id2922452"> T2.1 - Get job information </a></span></dt><dt><span class="section"><a href="#id2922621"> T2.5 - Get jobs progression </a></span></dt><dt><span class="section"><a href="#id2922805"> T2.6 - Get one job outputs </a></span></dt><dt><span class="section"><a href="#id2923008"> T2.7 - Get all completed jobs outputs </a></span></dt><dt><span class="section"><a href="#id2923171"> T2.3 - List job queues </a></span></dt><dt><span class="section"><a href="#id2923333"> T2.4 - List jobs </a></span></dt></dl></dd><dt><span class="chapter"><a href="#id2923488">3. Stress tests </a></span></dt><dt><span class="chapter"><a href="#id2923670">4. Load tests </a></span></dt><dt><span class="chapter"><a href="#id2923908">5. Performance tests </a></span></dt></dl></div><div class="chapter" title="Chapter 1.  Introduction"><div class="titlepage"><div><div><h2 class="title"><a id="id2920960"></a>Chapter 1.  Introduction </h2></div></div></div><p>Author of the test code : Ibrahima CISSE</p><p>Author of the test report : Eugène PAMBA CAPO-CHICHI</p><p> The tests which follows have been done in the following environment: </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Database used : PostgreSQL 8.4</p></li><li class="listitem"><p>OS used for the test : Ubuntu 10.10</p></li><li class="listitem"><p>Cmake version : V2.6</p></li><li class="listitem"><p>gcc version : V4.3.3</p></li><li class="listitem"><p>DIET version : V2.6.1</p></li><li class="listitem"><p> Batch scheduler : TORQUE V2.5 </p></li><li class="listitem"><p> RAM memory : 4Gb </p></li></ul></div><p>
    </p></div><div class="chapter" title="Chapter 2. Functional tests"><div class="titlepage"><div><div><h2 class="title"><a id="id2922057"></a>Chapter 2. Functional tests </h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="#id2922062"> T1.1 - Submit a job </a></span></dt><dt><span class="section"><a href="#id2922256"> T2.2 - Cancel a job </a></span></dt><dt><span class="section"><a href="#id2922452"> T2.1 - Get job information </a></span></dt><dt><span class="section"><a href="#id2922621"> T2.5 - Get jobs progression </a></span></dt><dt><span class="section"><a href="#id2922805"> T2.6 - Get one job outputs </a></span></dt><dt><span class="section"><a href="#id2923008"> T2.7 - Get all completed jobs outputs </a></span></dt><dt><span class="section"><a href="#id2923171"> T2.3 - List job queues </a></span></dt><dt><span class="section"><a href="#id2923333"> T2.4 - List jobs </a></span></dt></dl></div><div class="section" title="T1.1 - Submit a job"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id2922062"></a> T1.1 - Submit a job </h2></div></div></div><p><span class="italic"> API command: submitJob</span></p><div class="informaltable"><table border="1"><colgroup><col width="2.0cm" /><col width="6cm" /><col width="3.5cm" /><col width="3.5cm" /><col width="1.5cm" /></colgroup><thead><tr><th>ID test</th><th>Description of the test cases</th><th>Output expected</th><th>Output gotten</th><th>Error</th></tr></thead><tbody><tr><td><p>T1.1-B</p></td><td><p>Normal execution of submitJob</p></td><td><p>The job identifier is returned</p></td><td><p>The job identifier is returned</p></td><td><p>0</p></td></tr><tr><td><p>T1.1-E1</p></td><td><p>Bad session key</p></td><td><p>VishnuException</p></td><td><p>VishnuException</p></td><td><p>0</p></td></tr><tr><td><p>T1.1-E2</p></td><td><p>Bad machine Identifier</p></td><td><p>VishnuException</p></td><td><p>VishnuException</p></td><td><p>0</p></td></tr><tr><td><p>T1.1-E3</p></td><td><p>Bad script content</p></td><td><p>VishnuException</p></td><td><p>VishnuException</p></td><td><p>0</p></td></tr><tr><td><p>T1.1-E4</p></td><td><p>Bad script path</p></td><td><p>VishnuException</p></td><td><p>VishnuException</p></td><td><p>0</p></td></tr></tbody></table></div></div><div class="section" title="T2.2 - Cancel a job"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id2922256"></a> T2.2 - Cancel a job </h2></div></div></div><p><span class="italic"> API command: cancelJob</span></p><div class="informaltable"><table border="1"><colgroup><col width="2.0cm" /><col width="6cm" /><col width="3.5cm" /><col width="3.5cm" /><col width="1.5cm" /></colgroup><thead><tr><th>ID test</th><th>Description of the test cases</th><th>Output expected</th><th>Output gotten</th><th>Error</th></tr></thead><tbody><tr><td><p>T2.2-B</p></td><td><p>Normal execution of cancelJob</p></td><td><p>The job is cancelled</p></td><td><p>The job is cancelled</p></td><td><p>0</p></td></tr><tr><td><p>T2.2-E1</p></td><td><p>Bad session key</p></td><td><p>VishnuException</p></td><td><p>VishnuException</p></td><td><p>0</p></td></tr><tr><td><p>T2.2-E2</p></td><td><p>Bad machine Identifier</p></td><td><p>VishnuException</p></td><td><p>VishnuException</p></td><td><p>0</p></td></tr><tr><td><p>T2.2-E3</p></td><td><p>Bad job identifier</p></td><td><p>VishnuException</p></td><td><p>VishnuException</p></td><td><p>0</p></td></tr><tr><td><p>T2.2-E4</p></td><td><p>Job canceling by a user who is not an administrator and not the owner of the job</p></td><td><p>VishnuException</p></td><td><p>VishnuException</p></td><td><p>0</p></td></tr></tbody></table></div></div><div class="section" title="T2.1 - Get job information"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id2922452"></a> T2.1 - Get job information </h2></div></div></div><p><span class="italic"> API command: getJobInfo</span></p><div class="informaltable"><table border="1"><colgroup><col width="2.0cm" /><col width="6cm" /><col width="3.5cm" /><col width="3.5cm" /><col width="1.5cm" /></colgroup><thead><tr><th>ID test</th><th>Description of the test cases</th><th>Output expected</th><th>Output gotten</th><th>Error</th></tr></thead><tbody><tr><td><p>T2.1-B</p></td><td><p>Normal execution of getJobInfo</p></td><td><p>The job object is returned</p></td><td><p>The job object is returned</p></td><td><p>0</p></td></tr><tr><td><p>T2.1-E1</p></td><td><p>Bad session key</p></td><td><p>VishnuException</p></td><td><p>VishnuException</p></td><td><p>0</p></td></tr><tr><td><p>T2.1-E2</p></td><td><p>Bad machine Identifier</p></td><td><p>VishnuException</p></td><td><p>VishnuException</p></td><td><p>0</p></td></tr><tr><td><p>T2.1-E3</p></td><td><p>Bad job identifier</p></td><td><p>VishnuException</p></td><td><p>VishnuException</p></td><td><p>0</p></td></tr></tbody></table></div></div><div class="section" title="T2.5 - Get jobs progression"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id2922621"></a> T2.5 - Get jobs progression </h2></div></div></div><p><span class="italic"> API command: getJobProgress</span></p><div class="informaltable"><table border="1"><colgroup><col width="2.0cm" /><col width="6cm" /><col width="3.5cm" /><col width="3.5cm" /><col width="1.5cm" /></colgroup><thead><tr><th>ID test</th><th>Description of the test cases</th><th>Output expected</th><th>Output gotten</th><th>Error</th></tr></thead><tbody><tr><td><p>T2.5-B</p></td><td><p>Normal execution of getJobProgress</p></td><td><p>The job progression object is returned</p></td><td><p>The job progression object is returned</p></td><td><p>0</p></td></tr><tr><td><p>T2.5-E1</p></td><td><p>Bad session key</p></td><td><p>VishnuException</p></td><td><p>VishnuException</p></td><td><p>0</p></td></tr><tr><td><p>T2.5-E2</p></td><td><p>Bad machine Identifier</p></td><td><p>VishnuException</p></td><td><p>VishnuException</p></td><td><p>0</p></td></tr><tr><td><p>T2.5-E3</p></td><td><p>Bad job identifier</p></td><td><p>VishnuException</p></td><td><p>VishnuException</p></td><td><p>0</p></td></tr></tbody></table></div><p> <span class="bold"><strong> Remarks T2.5-B </strong></span>: when the job is not on running state, there is no progression. </p></div><div class="section" title="T2.6 - Get one job outputs"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id2922805"></a> T2.6 - Get one job outputs </h2></div></div></div><p><span class="italic"> API command: getJobsOutput</span></p><div class="informaltable"><table border="1"><colgroup><col width="2.0cm" /><col width="6cm" /><col width="3.5cm" /><col width="3.5cm" /><col width="1.5cm" /></colgroup><thead><tr><th>ID test</th><th>Description of the test cases</th><th>Output expected</th><th>Output gotten</th><th>Error</th></tr></thead><tbody><tr><td><p>T2.6-B</p></td><td><p>Normal execution of getJobsOutput</p></td><td><p>The job output files are returned</p></td><td><p>The job output files are returned</p></td><td><p>0</p></td></tr><tr><td><p>T2.6-E1</p></td><td><p>Bad session key</p></td><td><p>VishnuException</p></td><td><p>VishnuException</p></td><td><p>0</p></td></tr><tr><td><p>T2.6-E2</p></td><td><p>Bad machine Identifier</p></td><td><p>VishnuException</p></td><td><p>VishnuException</p></td><td><p>0</p></td></tr><tr><td><p>T2.6-E3</p></td><td><p>Bad job identifier</p></td><td><p>VishnuException</p></td><td><p>VishnuException</p></td><td><p>0</p></td></tr><tr><td><p>T2.6-E4</p></td><td><p>Identifier of job not terminated</p></td><td><p>VishnuException</p></td><td><p>VishnuException</p></td><td><p>0</p></td></tr></tbody></table></div></div><div class="section" title="T2.7 - Get all completed jobs outputs"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id2923008"></a> T2.7 - Get all completed jobs outputs </h2></div></div></div><p><span class="italic"> API command: getCompletedJobsOuput</span></p><div class="informaltable"><table border="1"><colgroup><col width="2.0cm" /><col width="6cm" /><col width="3.5cm" /><col width="3.5cm" /><col width="1.5cm" /></colgroup><thead><tr><th>ID test</th><th>Description of the test cases</th><th>Output expected</th><th>Output gotten</th><th>Error</th></tr></thead><tbody><tr><td><p>T2.7-B</p></td><td><p>Normal execution of getCompletedJobsOuput</p></td><td><p>The job output files of all completed jobs are returned</p></td><td><p>The job output files of all completed jobs are returned</p></td><td><p> 0 </p></td></tr><tr><td><p>T2.7-E1</p></td><td><p>Bad session key</p></td><td><p>VishnuException</p></td><td><p>VishnuException</p></td><td><p>0</p></td></tr><tr><td><p>T2.7-E2</p></td><td><p>Bad machine Identifier</p></td><td><p>VishnuException</p></td><td><p>VishnuException</p></td><td><p>0</p></td></tr></tbody></table></div><p> <span class="bold"><strong> Remarks T2.7-B </strong></span>: there is a failure when the script's execution is very fast (under one seconds). </p></div><div class="section" title="T2.3 - List job queues"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id2923171"></a> T2.3 - List job queues </h2></div></div></div><p><span class="italic"> API command: listQueues</span></p><div class="informaltable"><table border="1"><colgroup><col width="2.0cm" /><col width="6cm" /><col width="3.5cm" /><col width="3.5cm" /><col width="1.5cm" /></colgroup><thead><tr><th>ID test</th><th>Description of the test cases</th><th>Output expected</th><th>Output gotten</th><th>Error</th></tr></thead><tbody><tr><td><p>T2.3-B</p></td><td><p>Normal execution of listQueues</p></td><td><p>The list of queues is returned</p></td><td><p>The list of queues is returned</p></td><td><p>0</p></td></tr><tr><td><p>T2.3-E1</p></td><td><p>Bad session key</p></td><td><p>VishnuException</p></td><td><p>VishnuException</p></td><td><p>0</p></td></tr><tr><td><p>T2.3-E2</p></td><td><p>Bad machine Identifier</p></td><td><p>VishnuException</p></td><td><p>VishnuException</p></td><td><p>0</p></td></tr></tbody></table></div><p> <span class="bold"><strong> Remarks T2.3-B </strong></span>: to make this test, you must have administrator rights on the batch scheduler for adding
      a new queue. 
      </p></div><div class="section" title="T2.4 - List jobs"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id2923333"></a> T2.4 - List jobs </h2></div></div></div><p><span class="italic"> API command: listJobs</span></p><div class="informaltable"><table border="1"><colgroup><col width="2.0cm" /><col width="6cm" /><col width="3.5cm" /><col width="3.5cm" /><col width="1.5cm" /></colgroup><thead><tr><th>ID test</th><th>Description of the test cases</th><th>Output expected</th><th>Output gotten</th><th>Error</th></tr></thead><tbody><tr><td><p>T2.4-B</p></td><td><p>Normal execution of listJobs</p></td><td><p>The list of jobs is returned</p></td><td><p>The list of jobs is returned</p></td><td><p>0</p></td></tr><tr><td><p>T2.4-E1</p></td><td><p>Bad session key</p></td><td><p>VishnuException</p></td><td><p>VishnuException</p></td><td><p>0</p></td></tr><tr><td><p>T2.4-E2</p></td><td><p>Bad machine Identifier</p></td><td><p>VishnuException</p></td><td><p>VishnuException</p></td><td><p>0</p></td></tr></tbody></table></div></div></div><div class="chapter" title="Chapter 3. Stress tests"><div class="titlepage"><div><div><h2 class="title"><a id="id2923488"></a>Chapter 3. Stress tests </h2></div></div></div><div class="informaltable"><table border="1"><colgroup><col /><col /><col /><col /><col /></colgroup><tbody><tr><td>
                  <p>ID test</p>
               </td><td>
                  <p>Date</p>
               </td><td>
                  <p>Test description</p>
               </td><td>
                  <p>Command(s) tested</p>
               </td><td>
                  <p>Results</p>
               </td><td>
                  <p>Remarks</p>
               </td></tr><tr><td>
                  <p>STR-SERV-DOWN</p>
               </td><td>
                  <p>05/05/11</p>
               </td><td>
                  <p>The tms sed is stopped and restarted</p>
               </td><td>
                  <p>submitJob</p>
               </td><td>
                  <p>Success - normal job submission</p>
               </td><td> </td></tr><tr><td>
                  <p>STR-AGENT-DOWN</p>
               </td><td>
                  <p>05/05/11</p>
               </td><td>
                  <p>The SysFera-DS Agent is stopped and restarted </p>
               </td><td> </td><td>
                  <p>failure</p>
               </td><td>
                  <p>The tms server must be restarted manually after the SysFera-DS is restarted</p>
               </td></tr><tr><td>
                  <p>STR-BATCH-DOWN</p>
               </td><td>
                  <p>05/05/11</p>
               </td><td>
                  <p> The batch scheduler is stopped and the command submitJob is launched</p>
               </td><td>
                  <p>submitJob</p>
               </td><td>
                  <p> Success - the corresponding error message is returned </p>
               </td><td class="auto-generated"> </td></tr></tbody></table></div></div><div class="chapter" title="Chapter 4. Load tests"><div class="titlepage"><div><div><h2 class="title"><a id="id2923670"></a>Chapter 4. Load tests </h2></div></div></div><div class="informaltable"><table border="1"><colgroup><col /><col /><col /><col /><col /></colgroup><tbody><tr><td>
                  <p>ID test</p>
               </td><td>
                  <p>Date</p>
               </td><td>
                  <p>Test description</p>
               </td><td>
                  <p>Command(s) tested</p>
               </td><td>
                  <p>Results</p>
               </td></tr><tr><td>
                  <p>LOAD-2.1-submitJob</p>
               </td><td>
                  <p>05/05/11</p>
               </td><td>
                  <p>Simultaneous launch of 100 commands</p>
               </td><td>
                  <p>submitJob</p>
               </td><td>
                  <p>Success - normal execution of all commands launched</p>
               </td></tr><tr><td>
                  <p>LOAD-2.1-listJobs</p>
               </td><td>
                  <p>05/05/11</p>
               </td><td>
                  <p>Success - Simultaneous launch of 100 commands</p>
               </td><td>
                  <p>listJobs</p>
               </td><td>
                  <p>Success - normal execution of all commands launched</p>
               </td></tr><tr><td>
                  <p>LOAD-2.1-listQueues</p>
               </td><td>
                  <p>05/05/11</p>
               </td><td>
                  <p>Simultaneous launch of 100 commands</p>
               </td><td>
                  <p>listQueues</p>
               </td><td>
                  <p>Success - normal execution of all commands launched</p>
               </td></tr></tbody></table></div></div><div class="chapter" title="Chapter 5. Performance tests"><div class="titlepage"><div><div><h2 class="title"><a id="id2923908"></a>Chapter 5. Performance tests </h2></div></div></div><div class="informaltable"><table border="1"><colgroup><col /><col /><col /><col /><col /><col /></colgroup><tbody><tr><td>
                  <p>ID test</p>
               </td><td>
                  <p>Test description</p>
               </td><td>
                  <p>Command(s) tested</p>
               </td><td>
                  <p>VISHNU execution time</p>
               </td><td>
                  <p>SSH execution time</p>
               </td><td>
                  <p>Results</p>
               </td></tr><tr><td>
                  <p>CDP-3.1-submitJob</p>
               </td><td>
                  <p>comparison with " ssh localhost qsub " </p>
               </td><td>
                  <p>submitJob</p>
               </td><td>
                  <p>0,30s</p>
               </td><td>
                  <p>0,17s</p>
               </td><td>
                  <p>Failure</p>
               </td></tr><tr><td>
                  <p>CDP-3.1-cancelJob</p>
               </td><td>
                  <p>comparison with " ssh localhost qsub " </p>
               </td><td>
                  <p>cancelJob</p>
               </td><td>
                  <p>0,25s</p>
               </td><td>
                  <p>0,21s</p>
               </td><td>
                  <p>Failure</p>
               </td></tr><tr><td>
                  <p>CDP-3.1-listJobs</p>
               </td><td>
                  <p>comparison with " ssh localhost qstat " </p>
               </td><td>
                  <p>listJobs</p>
               </td><td>
                  <p>0,08s</p>
               </td><td>
                  <p>0,17s</p>
               </td><td>
                  <p>Success</p>
               </td></tr><tr><td>
                  <p>CDP-3.2.1-listQueues</p>
               </td><td>
                  <p>execution time less than "ssh localhost qstat -Q" </p>
               </td><td>
                  <p>listQueues</p>
               </td><td>
                  <p>0,10s</p>
               </td><td>
                  <p>0,16s</p>
               </td><td>
                  <p>Success</p>
               </td></tr></tbody></table></div><div class="informaltable"><table border="1"><colgroup><col /><col /><col /><col /><col /></colgroup><tbody><tr><td>
                  <p>ID test</p>
               </td><td>
                  <p>Test description</p>
               </td><td>
                  <p>Command(s) tested</p>
               </td><td>
                  <p>Memory comsumption</p>
               </td><td>
                  <p>Results</p>
               </td></tr><tr><td>
                  <p>CDP-3.2.2-submitJob</p>
               </td><td>
                  <p>memory consumption</p>
               </td><td>
                  <p>submitJob</p>
               </td><td>
                  <p>0,8% of the RAM memory</p>
               </td><td>
                  <p>Success</p>
               </td></tr><tr><td>
                  <p>CDP-Memserver</p>
               </td><td>
                  <p>Memory consumption of tms server running during 24 hours</p>
               </td><td>
                  <p>tms server</p>
               </td><td>
                  <p>0,7% of the RAM memory</p>
               </td><td>
                  <p>Success</p>
               </td></tr></tbody></table></div></div></div></body></html>
